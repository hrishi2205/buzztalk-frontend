(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var hh={exports:{}},ao={},ph={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ps=Symbol.for("react.element"),O0=Symbol.for("react.portal"),V0=Symbol.for("react.fragment"),I0=Symbol.for("react.strict_mode"),F0=Symbol.for("react.profiler"),B0=Symbol.for("react.provider"),z0=Symbol.for("react.context"),$0=Symbol.for("react.forward_ref"),U0=Symbol.for("react.suspense"),W0=Symbol.for("react.memo"),H0=Symbol.for("react.lazy"),Lc=Symbol.iterator;function K0(e){return e===null||typeof e!="object"?null:(e=Lc&&e[Lc]||e["@@iterator"],typeof e=="function"?e:null)}var mh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gh=Object.assign,yh={};function Sr(e,t,n){this.props=e,this.context=t,this.refs=yh,this.updater=n||mh}Sr.prototype.isReactComponent={};Sr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vh(){}vh.prototype=Sr.prototype;function ql(e,t,n){this.props=e,this.context=t,this.refs=yh,this.updater=n||mh}var Gl=ql.prototype=new vh;Gl.constructor=ql;gh(Gl,Sr.prototype);Gl.isPureReactComponent=!0;var Dc=Array.isArray,xh=Object.prototype.hasOwnProperty,Ql={current:null},wh={key:!0,ref:!0,__self:!0,__source:!0};function Sh(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)xh.call(t,r)&&!wh.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ps,type:e,key:i,ref:o,props:s,_owner:Ql.current}}function Y0(e,t){return{$$typeof:Ps,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ps}function q0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mc=/\/+/g;function Ro(e,t){return typeof e=="object"&&e!==null&&e.key!=null?q0(""+e.key):t.toString(36)}function di(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ps:case O0:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ro(o,0):r,Dc(s)?(n="",e!=null&&(n=e.replace(Mc,"$&/")+"/"),di(s,t,n,"",function(u){return u})):s!=null&&(Xl(s)&&(s=Y0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Mc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Dc(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Ro(i,a);o+=di(i,t,n,l,s)}else if(l=K0(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Ro(i,a++),o+=di(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zs(e,t,n){if(e==null)return e;var r=[],s=0;return di(e,r,"","",function(i){return t.call(n,i,s++)}),r}function G0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Le={current:null},fi={transition:null},Q0={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:fi,ReactCurrentOwner:Ql};function kh(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:zs,forEach:function(e,t,n){zs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zs(e,function(){t++}),t},toArray:function(e){return zs(e,function(t){return t})||[]},only:function(e){if(!Xl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=Sr;z.Fragment=V0;z.Profiler=F0;z.PureComponent=ql;z.StrictMode=I0;z.Suspense=U0;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q0;z.act=kh;z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gh({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ql.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)xh.call(t,l)&&!wh.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ps,type:e.type,key:s,ref:i,props:r,_owner:o}};z.createContext=function(e){return e={$$typeof:z0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:B0,_context:e},e.Consumer=e};z.createElement=Sh;z.createFactory=function(e){var t=Sh.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:$0,render:e}};z.isValidElement=Xl;z.lazy=function(e){return{$$typeof:H0,_payload:{_status:-1,_result:e},_init:G0}};z.memo=function(e,t){return{$$typeof:W0,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=fi.transition;fi.transition={};try{e()}finally{fi.transition=t}};z.unstable_act=kh;z.useCallback=function(e,t){return Le.current.useCallback(e,t)};z.useContext=function(e){return Le.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return Le.current.useDeferredValue(e)};z.useEffect=function(e,t){return Le.current.useEffect(e,t)};z.useId=function(){return Le.current.useId()};z.useImperativeHandle=function(e,t,n){return Le.current.useImperativeHandle(e,t,n)};z.useInsertionEffect=function(e,t){return Le.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return Le.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return Le.current.useMemo(e,t)};z.useReducer=function(e,t,n){return Le.current.useReducer(e,t,n)};z.useRef=function(e){return Le.current.useRef(e)};z.useState=function(e){return Le.current.useState(e)};z.useSyncExternalStore=function(e,t,n){return Le.current.useSyncExternalStore(e,t,n)};z.useTransition=function(){return Le.current.useTransition()};z.version="18.3.1";ph.exports=z;var w=ph.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0=w,Z0=Symbol.for("react.element"),J0=Symbol.for("react.fragment"),ey=Object.prototype.hasOwnProperty,ty=X0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ny={key:!0,ref:!0,__self:!0,__source:!0};function Th(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ey.call(t,r)&&!ny.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Z0,type:e,key:i,ref:o,props:s,_owner:ty.current}}ao.Fragment=J0;ao.jsx=Th;ao.jsxs=Th;hh.exports=ao;var d=hh.exports,bh={exports:{}},Ke={},Eh={exports:{}},_h={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,N){var A=E.length;E.push(N);e:for(;0<A;){var D=A-1>>>1,I=E[D];if(0<s(I,N))E[D]=N,E[A]=I,A=D;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var N=E[0],A=E.pop();if(A!==N){E[0]=A;e:for(var D=0,I=E.length,H=I>>>1;D<H;){var X=2*(D+1)-1,B=E[X],Z=X+1,J=E[Z];if(0>s(B,A))Z<I&&0>s(J,B)?(E[D]=J,E[Z]=A,D=Z):(E[D]=B,E[X]=A,D=X);else if(Z<I&&0>s(J,A))E[D]=J,E[Z]=A,D=Z;else break e}}return N}function s(E,N){var A=E.sortIndex-N.sortIndex;return A!==0?A:E.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,g=!1,v=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(E){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=E)r(u),N.sortIndex=N.expirationTime,t(l,N);else break;N=n(u)}}function S(E){if(x=!1,y(E),!v)if(n(l)!==null)v=!0,R(k);else{var N=n(u);N!==null&&O(S,N.startTime-E)}}function k(E,N){v=!1,x&&(x=!1,m(b),b=-1),g=!0;var A=h;try{for(y(N),f=n(l);f!==null&&(!(f.expirationTime>N)||E&&!Y());){var D=f.callback;if(typeof D=="function"){f.callback=null,h=f.priorityLevel;var I=D(f.expirationTime<=N);N=e.unstable_now(),typeof I=="function"?f.callback=I:f===n(l)&&r(l),y(N)}else r(l);f=n(l)}if(f!==null)var H=!0;else{var X=n(u);X!==null&&O(S,X.startTime-N),H=!1}return H}finally{f=null,h=A,g=!1}}var C=!1,_=null,b=-1,V=5,M=-1;function Y(){return!(e.unstable_now()-M<V)}function Pe(){if(_!==null){var E=e.unstable_now();M=E;var N=!0;try{N=_(!0,E)}finally{N?Me():(C=!1,_=null)}}else C=!1}var Me;if(typeof p=="function")Me=function(){p(Pe)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,j=$.port2;$.port1.onmessage=Pe,Me=function(){j.postMessage(null)}}else Me=function(){T(Pe,0)};function R(E){_=E,C||(C=!0,Me())}function O(E,N){b=T(function(){E(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,R(k))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var A=h;h=N;try{return E()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,N){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var A=h;h=E;try{return N()}finally{h=A}},e.unstable_scheduleCallback=function(E,N,A){var D=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?D+A:D):A=D,E){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=A+I,E={id:c++,callback:N,priorityLevel:E,startTime:A,expirationTime:I,sortIndex:-1},A>D?(E.sortIndex=A,t(u,E),n(l)===null&&E===n(u)&&(x?(m(b),b=-1):x=!0,O(S,A-D))):(E.sortIndex=I,t(l,E),v||g||(v=!0,R(k))),E},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(E){var N=h;return function(){var A=h;h=N;try{return E.apply(this,arguments)}finally{h=A}}}})(_h);Eh.exports=_h;var ry=Eh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy=w,He=ry;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ch=new Set,os={};function Vn(e,t){fr(e,t),fr(e+"Capture",t)}function fr(e,t){for(os[e]=t,e=0;e<t.length;e++)Ch.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=Object.prototype.hasOwnProperty,iy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Oc={},Vc={};function oy(e){return ba.call(Vc,e)?!0:ba.call(Oc,e)?!1:iy.test(e)?Vc[e]=!0:(Oc[e]=!0,!1)}function ay(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ly(e,t,n,r){if(t===null||typeof t>"u"||ay(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zl=/[\-:]([a-z])/g;function Jl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zl,Jl);Te[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zl,Jl);Te[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zl,Jl);Te[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function eu(e,t,n,r){var s=Te.hasOwnProperty(t)?Te[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ly(t,n,s,r)&&(n=null),r||s===null?oy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Bt=sy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$s=Symbol.for("react.element"),zn=Symbol.for("react.portal"),$n=Symbol.for("react.fragment"),tu=Symbol.for("react.strict_mode"),Ea=Symbol.for("react.profiler"),Nh=Symbol.for("react.provider"),Ph=Symbol.for("react.context"),nu=Symbol.for("react.forward_ref"),_a=Symbol.for("react.suspense"),Ca=Symbol.for("react.suspense_list"),ru=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),jh=Symbol.for("react.offscreen"),Ic=Symbol.iterator;function Pr(e){return e===null||typeof e!="object"?null:(e=Ic&&e[Ic]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,Lo;function Fr(e){if(Lo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Lo=t&&t[1]||""}return`
`+Lo+e}var Do=!1;function Mo(e,t){if(!e||Do)return"";Do=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Do=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fr(e):""}function uy(e){switch(e.tag){case 5:return Fr(e.type);case 16:return Fr("Lazy");case 13:return Fr("Suspense");case 19:return Fr("SuspenseList");case 0:case 2:case 15:return e=Mo(e.type,!1),e;case 11:return e=Mo(e.type.render,!1),e;case 1:return e=Mo(e.type,!0),e;default:return""}}function Na(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $n:return"Fragment";case zn:return"Portal";case Ea:return"Profiler";case tu:return"StrictMode";case _a:return"Suspense";case Ca:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ph:return(e.displayName||"Context")+".Consumer";case Nh:return(e._context.displayName||"Context")+".Provider";case nu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ru:return t=e.displayName||null,t!==null?t:Na(e.type)||"Memo";case Ht:t=e._payload,e=e._init;try{return Na(e(t))}catch{}}return null}function cy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Na(t);case 8:return t===tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ah(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dy(e){var t=Ah(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Us(e){e._valueTracker||(e._valueTracker=dy(e))}function Rh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ah(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pa(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=un(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lh(e,t){t=t.checked,t!=null&&eu(e,"checked",t,!1)}function ja(e,t){Lh(e,t);var n=un(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Aa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Aa(e,t.type,un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Aa(e,t,n){(t!=="number"||Ai(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Br=Array.isArray;function sr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+un(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ra(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Br(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:un(n)}}function Dh(e,t){var n=un(t.value),r=un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $c(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function La(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ws,Oh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ws=Ws||document.createElement("div"),Ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function as(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fy=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(e){fy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hr[t]=Hr[e]})});function Vh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hr.hasOwnProperty(e)&&Hr[e]?(""+t).trim():t+"px"}function Ih(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Vh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var hy=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Da(e,t){if(t){if(hy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Ma(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oa=null;function su(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,ir=null,or=null;function Uc(e){if(e=Rs(e)){if(typeof Va!="function")throw Error(P(280));var t=e.stateNode;t&&(t=ho(t),Va(e.stateNode,e.type,t))}}function Fh(e){ir?or?or.push(e):or=[e]:ir=e}function Bh(){if(ir){var e=ir,t=or;if(or=ir=null,Uc(e),t)for(e=0;e<t.length;e++)Uc(t[e])}}function zh(e,t){return e(t)}function $h(){}var Oo=!1;function Uh(e,t,n){if(Oo)return e(t,n);Oo=!0;try{return zh(e,t,n)}finally{Oo=!1,(ir!==null||or!==null)&&($h(),Bh())}}function ls(e,t){var n=e.stateNode;if(n===null)return null;var r=ho(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Ia=!1;if(Lt)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{Ia=!1}function py(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Kr=!1,Ri=null,Li=!1,Fa=null,my={onError:function(e){Kr=!0,Ri=e}};function gy(e,t,n,r,s,i,o,a,l){Kr=!1,Ri=null,py.apply(my,arguments)}function yy(e,t,n,r,s,i,o,a,l){if(gy.apply(this,arguments),Kr){if(Kr){var u=Ri;Kr=!1,Ri=null}else throw Error(P(198));Li||(Li=!0,Fa=u)}}function In(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Wh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wc(e){if(In(e)!==e)throw Error(P(188))}function vy(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Wc(s),e;if(i===r)return Wc(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Hh(e){return e=vy(e),e!==null?Kh(e):null}function Kh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kh(e);if(t!==null)return t;e=e.sibling}return null}var Yh=He.unstable_scheduleCallback,Hc=He.unstable_cancelCallback,xy=He.unstable_shouldYield,wy=He.unstable_requestPaint,ue=He.unstable_now,Sy=He.unstable_getCurrentPriorityLevel,iu=He.unstable_ImmediatePriority,qh=He.unstable_UserBlockingPriority,Di=He.unstable_NormalPriority,ky=He.unstable_LowPriority,Gh=He.unstable_IdlePriority,lo=null,xt=null;function Ty(e){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(lo,e,void 0,(e.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:_y,by=Math.log,Ey=Math.LN2;function _y(e){return e>>>=0,e===0?32:31-(by(e)/Ey|0)|0}var Hs=64,Ks=4194304;function zr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=zr(a):(i&=o,i!==0&&(r=zr(i)))}else o=n&~s,o!==0?r=zr(o):i!==0&&(r=zr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dt(t),s=1<<n,r|=e[n],t&=~s;return r}function Cy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ny(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-dt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Cy(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Ba(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qh(){var e=Hs;return Hs<<=1,!(Hs&4194240)&&(Hs=64),e}function Vo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function js(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dt(t),e[t]=n}function Py(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-dt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ou(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var K=0;function Xh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zh,au,Jh,ep,tp,za=!1,Ys=[],Zt=null,Jt=null,en=null,us=new Map,cs=new Map,Yt=[],jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kc(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":en=null;break;case"pointerover":case"pointerout":us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(t.pointerId)}}function Ar(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Rs(t),t!==null&&au(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ay(e,t,n,r,s){switch(t){case"focusin":return Zt=Ar(Zt,e,t,n,r,s),!0;case"dragenter":return Jt=Ar(Jt,e,t,n,r,s),!0;case"mouseover":return en=Ar(en,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return us.set(i,Ar(us.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,cs.set(i,Ar(cs.get(i)||null,e,t,n,r,s)),!0}return!1}function np(e){var t=Tn(e.target);if(t!==null){var n=In(t);if(n!==null){if(t=n.tag,t===13){if(t=Wh(n),t!==null){e.blockedOn=t,tp(e.priority,function(){Jh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$a(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Oa=r,n.target.dispatchEvent(r),Oa=null}else return t=Rs(n),t!==null&&au(t),e.blockedOn=n,!1;t.shift()}return!0}function Yc(e,t,n){hi(e)&&n.delete(t)}function Ry(){za=!1,Zt!==null&&hi(Zt)&&(Zt=null),Jt!==null&&hi(Jt)&&(Jt=null),en!==null&&hi(en)&&(en=null),us.forEach(Yc),cs.forEach(Yc)}function Rr(e,t){e.blockedOn===t&&(e.blockedOn=null,za||(za=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Ry)))}function ds(e){function t(s){return Rr(s,e)}if(0<Ys.length){Rr(Ys[0],e);for(var n=1;n<Ys.length;n++){var r=Ys[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zt!==null&&Rr(Zt,e),Jt!==null&&Rr(Jt,e),en!==null&&Rr(en,e),us.forEach(t),cs.forEach(t),n=0;n<Yt.length;n++)r=Yt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)np(n),n.blockedOn===null&&Yt.shift()}var ar=Bt.ReactCurrentBatchConfig,Oi=!0;function Ly(e,t,n,r){var s=K,i=ar.transition;ar.transition=null;try{K=1,lu(e,t,n,r)}finally{K=s,ar.transition=i}}function Dy(e,t,n,r){var s=K,i=ar.transition;ar.transition=null;try{K=4,lu(e,t,n,r)}finally{K=s,ar.transition=i}}function lu(e,t,n,r){if(Oi){var s=$a(e,t,n,r);if(s===null)Yo(e,t,r,Vi,n),Kc(e,r);else if(Ay(s,e,t,n,r))r.stopPropagation();else if(Kc(e,r),t&4&&-1<jy.indexOf(e)){for(;s!==null;){var i=Rs(s);if(i!==null&&Zh(i),i=$a(e,t,n,r),i===null&&Yo(e,t,r,Vi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Yo(e,t,r,null,n)}}var Vi=null;function $a(e,t,n,r){if(Vi=null,e=su(r),e=Tn(e),e!==null)if(t=In(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Wh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vi=e,null}function rp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sy()){case iu:return 1;case qh:return 4;case Di:case ky:return 16;case Gh:return 536870912;default:return 16}default:return 16}}var Qt=null,uu=null,pi=null;function sp(){if(pi)return pi;var e,t=uu,n=t.length,r,s="value"in Qt?Qt.value:Qt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return pi=s.slice(e,1<r?1-r:void 0)}function mi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qs(){return!0}function qc(){return!1}function Ye(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qs:qc,this.isPropagationStopped=qc,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),t}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=Ye(kr),As=ie({},kr,{view:0,detail:0}),My=Ye(As),Io,Fo,Lr,uo=ie({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lr&&(Lr&&e.type==="mousemove"?(Io=e.screenX-Lr.screenX,Fo=e.screenY-Lr.screenY):Fo=Io=0,Lr=e),Io)},movementY:function(e){return"movementY"in e?e.movementY:Fo}}),Gc=Ye(uo),Oy=ie({},uo,{dataTransfer:0}),Vy=Ye(Oy),Iy=ie({},As,{relatedTarget:0}),Bo=Ye(Iy),Fy=ie({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),By=Ye(Fy),zy=ie({},kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$y=Ye(zy),Uy=ie({},kr,{data:0}),Qc=Ye(Uy),Wy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ky={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ky[e])?!!t[e]:!1}function du(){return Yy}var qy=ie({},As,{key:function(e){if(e.key){var t=Wy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(e){return e.type==="keypress"?mi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gy=Ye(qy),Qy=ie({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xc=Ye(Qy),Xy=ie({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),Zy=Ye(Xy),Jy=ie({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ev=Ye(Jy),tv=ie({},uo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nv=Ye(tv),rv=[9,13,27,32],fu=Lt&&"CompositionEvent"in window,Yr=null;Lt&&"documentMode"in document&&(Yr=document.documentMode);var sv=Lt&&"TextEvent"in window&&!Yr,ip=Lt&&(!fu||Yr&&8<Yr&&11>=Yr),Zc=" ",Jc=!1;function op(e,t){switch(e){case"keyup":return rv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ap(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function iv(e,t){switch(e){case"compositionend":return ap(t);case"keypress":return t.which!==32?null:(Jc=!0,Zc);case"textInput":return e=t.data,e===Zc&&Jc?null:e;default:return null}}function ov(e,t){if(Un)return e==="compositionend"||!fu&&op(e,t)?(e=sp(),pi=uu=Qt=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ip&&t.locale!=="ko"?null:t.data;default:return null}}var av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!av[e.type]:t==="textarea"}function lp(e,t,n,r){Fh(r),t=Ii(t,"onChange"),0<t.length&&(n=new cu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qr=null,fs=null;function lv(e){xp(e,0)}function co(e){var t=Kn(e);if(Rh(t))return e}function uv(e,t){if(e==="change")return t}var up=!1;if(Lt){var zo;if(Lt){var $o="oninput"in document;if(!$o){var td=document.createElement("div");td.setAttribute("oninput","return;"),$o=typeof td.oninput=="function"}zo=$o}else zo=!1;up=zo&&(!document.documentMode||9<document.documentMode)}function nd(){qr&&(qr.detachEvent("onpropertychange",cp),fs=qr=null)}function cp(e){if(e.propertyName==="value"&&co(fs)){var t=[];lp(t,fs,e,su(e)),Uh(lv,t)}}function cv(e,t,n){e==="focusin"?(nd(),qr=t,fs=n,qr.attachEvent("onpropertychange",cp)):e==="focusout"&&nd()}function dv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return co(fs)}function fv(e,t){if(e==="click")return co(t)}function hv(e,t){if(e==="input"||e==="change")return co(t)}function pv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:pv;function hs(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ba.call(t,s)||!ht(e[s],t[s]))return!1}return!0}function rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sd(e,t){var n=rd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rd(n)}}function dp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fp(){for(var e=window,t=Ai();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ai(e.document)}return t}function hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mv(e){var t=fp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dp(n.ownerDocument.documentElement,n)){if(r!==null&&hu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=sd(n,i);var o=sd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gv=Lt&&"documentMode"in document&&11>=document.documentMode,Wn=null,Ua=null,Gr=null,Wa=!1;function id(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wa||Wn==null||Wn!==Ai(r)||(r=Wn,"selectionStart"in r&&hu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gr&&hs(Gr,r)||(Gr=r,r=Ii(Ua,"onSelect"),0<r.length&&(t=new cu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wn)))}function Gs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hn={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},Uo={},hp={};Lt&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function fo(e){if(Uo[e])return Uo[e];if(!Hn[e])return e;var t=Hn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hp)return Uo[e]=t[n];return e}var pp=fo("animationend"),mp=fo("animationiteration"),gp=fo("animationstart"),yp=fo("transitionend"),vp=new Map,od="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,t){vp.set(e,t),Vn(t,[e])}for(var Wo=0;Wo<od.length;Wo++){var Ho=od[Wo],yv=Ho.toLowerCase(),vv=Ho[0].toUpperCase()+Ho.slice(1);hn(yv,"on"+vv)}hn(pp,"onAnimationEnd");hn(mp,"onAnimationIteration");hn(gp,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(yp,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xv=new Set("cancel close invalid load scroll toggle".split(" ").concat($r));function ad(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yy(r,t,void 0,e),e.currentTarget=null}function xp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ad(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ad(s,a,u),i=l}}}if(Li)throw e=Fa,Li=!1,Fa=null,e}function G(e,t){var n=t[Ga];n===void 0&&(n=t[Ga]=new Set);var r=e+"__bubble";n.has(r)||(wp(t,e,2,!1),n.add(r))}function Ko(e,t,n){var r=0;t&&(r|=4),wp(n,e,r,t)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function ps(e){if(!e[Qs]){e[Qs]=!0,Ch.forEach(function(n){n!=="selectionchange"&&(xv.has(n)||Ko(n,!1,e),Ko(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qs]||(t[Qs]=!0,Ko("selectionchange",!1,t))}}function wp(e,t,n,r){switch(rp(t)){case 1:var s=Ly;break;case 4:s=Dy;break;default:s=lu}n=s.bind(null,t,n,e),s=void 0,!Ia||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Yo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Tn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Uh(function(){var u=i,c=su(n),f=[];e:{var h=vp.get(e);if(h!==void 0){var g=cu,v=e;switch(e){case"keypress":if(mi(n)===0)break e;case"keydown":case"keyup":g=Gy;break;case"focusin":v="focus",g=Bo;break;case"focusout":v="blur",g=Bo;break;case"beforeblur":case"afterblur":g=Bo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Vy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Zy;break;case pp:case mp:case gp:g=By;break;case yp:g=ev;break;case"scroll":g=My;break;case"wheel":g=nv;break;case"copy":case"cut":case"paste":g=$y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Xc}var x=(t&4)!==0,T=!x&&e==="scroll",m=x?h!==null?h+"Capture":null:h;x=[];for(var p=u,y;p!==null;){y=p;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,m!==null&&(S=ls(p,m),S!=null&&x.push(ms(p,S,y)))),T)break;p=p.return}0<x.length&&(h=new g(h,v,null,n,c),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==Oa&&(v=n.relatedTarget||n.fromElement)&&(Tn(v)||v[Dt]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Tn(v):null,v!==null&&(T=In(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(x=Gc,S="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Xc,S="onPointerLeave",m="onPointerEnter",p="pointer"),T=g==null?h:Kn(g),y=v==null?h:Kn(v),h=new x(S,p+"leave",g,n,c),h.target=T,h.relatedTarget=y,S=null,Tn(c)===u&&(x=new x(m,p+"enter",v,n,c),x.target=y,x.relatedTarget=T,S=x),T=S,g&&v)t:{for(x=g,m=v,p=0,y=x;y;y=Bn(y))p++;for(y=0,S=m;S;S=Bn(S))y++;for(;0<p-y;)x=Bn(x),p--;for(;0<y-p;)m=Bn(m),y--;for(;p--;){if(x===m||m!==null&&x===m.alternate)break t;x=Bn(x),m=Bn(m)}x=null}else x=null;g!==null&&ld(f,h,g,x,!1),v!==null&&T!==null&&ld(f,T,v,x,!0)}}e:{if(h=u?Kn(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var k=uv;else if(ed(h))if(up)k=hv;else{k=dv;var C=cv}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=fv);if(k&&(k=k(e,u))){lp(f,k,n,c);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Aa(h,"number",h.value)}switch(C=u?Kn(u):window,e){case"focusin":(ed(C)||C.contentEditable==="true")&&(Wn=C,Ua=u,Gr=null);break;case"focusout":Gr=Ua=Wn=null;break;case"mousedown":Wa=!0;break;case"contextmenu":case"mouseup":case"dragend":Wa=!1,id(f,n,c);break;case"selectionchange":if(gv)break;case"keydown":case"keyup":id(f,n,c)}var _;if(fu)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?op(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(ip&&n.locale!=="ko"&&(Un||b!=="onCompositionStart"?b==="onCompositionEnd"&&Un&&(_=sp()):(Qt=c,uu="value"in Qt?Qt.value:Qt.textContent,Un=!0)),C=Ii(u,b),0<C.length&&(b=new Qc(b,e,null,n,c),f.push({event:b,listeners:C}),_?b.data=_:(_=ap(n),_!==null&&(b.data=_)))),(_=sv?iv(e,n):ov(e,n))&&(u=Ii(u,"onBeforeInput"),0<u.length&&(c=new Qc("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=_))}xp(f,t)})}function ms(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ii(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ls(e,n),i!=null&&r.unshift(ms(e,i,s)),i=ls(e,t),i!=null&&r.push(ms(e,i,s))),e=e.return}return r}function Bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ld(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=ls(n,i),l!=null&&o.unshift(ms(n,l,a))):s||(l=ls(n,i),l!=null&&o.push(ms(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var wv=/\r\n?/g,Sv=/\u0000|\uFFFD/g;function ud(e){return(typeof e=="string"?e:""+e).replace(wv,`
`).replace(Sv,"")}function Xs(e,t,n){if(t=ud(t),ud(e)!==t&&n)throw Error(P(425))}function Fi(){}var Ha=null,Ka=null;function Ya(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qa=typeof setTimeout=="function"?setTimeout:void 0,kv=typeof clearTimeout=="function"?clearTimeout:void 0,cd=typeof Promise=="function"?Promise:void 0,Tv=typeof queueMicrotask=="function"?queueMicrotask:typeof cd<"u"?function(e){return cd.resolve(null).then(e).catch(bv)}:qa;function bv(e){setTimeout(function(){throw e})}function qo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ds(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ds(t)}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Tr=Math.random().toString(36).slice(2),yt="__reactFiber$"+Tr,gs="__reactProps$"+Tr,Dt="__reactContainer$"+Tr,Ga="__reactEvents$"+Tr,Ev="__reactListeners$"+Tr,_v="__reactHandles$"+Tr;function Tn(e){var t=e[yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dt]||n[yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dd(e);e!==null;){if(n=e[yt])return n;e=dd(e)}return t}e=n,n=e.parentNode}return null}function Rs(e){return e=e[yt]||e[Dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function ho(e){return e[gs]||null}var Qa=[],Yn=-1;function pn(e){return{current:e}}function Q(e){0>Yn||(e.current=Qa[Yn],Qa[Yn]=null,Yn--)}function q(e,t){Yn++,Qa[Yn]=e.current,e.current=t}var cn={},Ne=pn(cn),Fe=pn(!1),Rn=cn;function hr(e,t){var n=e.type.contextTypes;if(!n)return cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Be(e){return e=e.childContextTypes,e!=null}function Bi(){Q(Fe),Q(Ne)}function fd(e,t,n){if(Ne.current!==cn)throw Error(P(168));q(Ne,t),q(Fe,n)}function Sp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,cy(e)||"Unknown",s));return ie({},n,r)}function zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,Rn=Ne.current,q(Ne,e),q(Fe,Fe.current),!0}function hd(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Sp(e,t,Rn),r.__reactInternalMemoizedMergedChildContext=e,Q(Fe),Q(Ne),q(Ne,e)):Q(Fe),q(Fe,n)}var Ct=null,po=!1,Go=!1;function kp(e){Ct===null?Ct=[e]:Ct.push(e)}function Cv(e){po=!0,kp(e)}function mn(){if(!Go&&Ct!==null){Go=!0;var e=0,t=K;try{var n=Ct;for(K=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ct=null,po=!1}catch(s){throw Ct!==null&&(Ct=Ct.slice(e+1)),Yh(iu,mn),s}finally{K=t,Go=!1}}return null}var qn=[],Gn=0,$i=null,Ui=0,Qe=[],Xe=0,Ln=null,jt=1,At="";function wn(e,t){qn[Gn++]=Ui,qn[Gn++]=$i,$i=e,Ui=t}function Tp(e,t,n){Qe[Xe++]=jt,Qe[Xe++]=At,Qe[Xe++]=Ln,Ln=e;var r=jt;e=At;var s=32-dt(r)-1;r&=~(1<<s),n+=1;var i=32-dt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,jt=1<<32-dt(t)+s|n<<s|r,At=i+e}else jt=1<<i|n<<s|r,At=e}function pu(e){e.return!==null&&(wn(e,1),Tp(e,1,0))}function mu(e){for(;e===$i;)$i=qn[--Gn],qn[Gn]=null,Ui=qn[--Gn],qn[Gn]=null;for(;e===Ln;)Ln=Qe[--Xe],Qe[Xe]=null,At=Qe[--Xe],Qe[Xe]=null,jt=Qe[--Xe],Qe[Xe]=null}var We=null,Ue=null,ee=!1,ct=null;function bp(e,t){var n=Je(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,Ue=tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,Ue=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ln!==null?{id:jt,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Je(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,We=e,Ue=null,!0):!1;default:return!1}}function Xa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Za(e){if(ee){var t=Ue;if(t){var n=t;if(!pd(e,t)){if(Xa(e))throw Error(P(418));t=tn(n.nextSibling);var r=We;t&&pd(e,t)?bp(r,n):(e.flags=e.flags&-4097|2,ee=!1,We=e)}}else{if(Xa(e))throw Error(P(418));e.flags=e.flags&-4097|2,ee=!1,We=e}}}function md(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function Zs(e){if(e!==We)return!1;if(!ee)return md(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ya(e.type,e.memoizedProps)),t&&(t=Ue)){if(Xa(e))throw Ep(),Error(P(418));for(;t;)bp(e,t),t=tn(t.nextSibling)}if(md(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ue=tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ue=null}}else Ue=We?tn(e.stateNode.nextSibling):null;return!0}function Ep(){for(var e=Ue;e;)e=tn(e.nextSibling)}function pr(){Ue=We=null,ee=!1}function gu(e){ct===null?ct=[e]:ct.push(e)}var Nv=Bt.ReactCurrentBatchConfig;function Dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Js(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gd(e){var t=e._init;return t(e._payload)}function _p(e){function t(m,p){if(e){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=on(m,p),m.index=0,m.sibling=null,m}function i(m,p,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,S){return p===null||p.tag!==6?(p=na(y,m.mode,S),p.return=m,p):(p=s(p,y),p.return=m,p)}function l(m,p,y,S){var k=y.type;return k===$n?c(m,p,y.props.children,S,y.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ht&&gd(k)===p.type)?(S=s(p,y.props),S.ref=Dr(m,p,y),S.return=m,S):(S=ki(y.type,y.key,y.props,null,m.mode,S),S.ref=Dr(m,p,y),S.return=m,S)}function u(m,p,y,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=ra(y,m.mode,S),p.return=m,p):(p=s(p,y.children||[]),p.return=m,p)}function c(m,p,y,S,k){return p===null||p.tag!==7?(p=Pn(y,m.mode,S,k),p.return=m,p):(p=s(p,y),p.return=m,p)}function f(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=na(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $s:return y=ki(p.type,p.key,p.props,null,m.mode,y),y.ref=Dr(m,null,p),y.return=m,y;case zn:return p=ra(p,m.mode,y),p.return=m,p;case Ht:var S=p._init;return f(m,S(p._payload),y)}if(Br(p)||Pr(p))return p=Pn(p,m.mode,y,null),p.return=m,p;Js(m,p)}return null}function h(m,p,y,S){var k=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(m,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $s:return y.key===k?l(m,p,y,S):null;case zn:return y.key===k?u(m,p,y,S):null;case Ht:return k=y._init,h(m,p,k(y._payload),S)}if(Br(y)||Pr(y))return k!==null?null:c(m,p,y,S,null);Js(m,y)}return null}function g(m,p,y,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(y)||null,a(p,m,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $s:return m=m.get(S.key===null?y:S.key)||null,l(p,m,S,k);case zn:return m=m.get(S.key===null?y:S.key)||null,u(p,m,S,k);case Ht:var C=S._init;return g(m,p,y,C(S._payload),k)}if(Br(S)||Pr(S))return m=m.get(y)||null,c(p,m,S,k,null);Js(p,S)}return null}function v(m,p,y,S){for(var k=null,C=null,_=p,b=p=0,V=null;_!==null&&b<y.length;b++){_.index>b?(V=_,_=null):V=_.sibling;var M=h(m,_,y[b],S);if(M===null){_===null&&(_=V);break}e&&_&&M.alternate===null&&t(m,_),p=i(M,p,b),C===null?k=M:C.sibling=M,C=M,_=V}if(b===y.length)return n(m,_),ee&&wn(m,b),k;if(_===null){for(;b<y.length;b++)_=f(m,y[b],S),_!==null&&(p=i(_,p,b),C===null?k=_:C.sibling=_,C=_);return ee&&wn(m,b),k}for(_=r(m,_);b<y.length;b++)V=g(_,m,b,y[b],S),V!==null&&(e&&V.alternate!==null&&_.delete(V.key===null?b:V.key),p=i(V,p,b),C===null?k=V:C.sibling=V,C=V);return e&&_.forEach(function(Y){return t(m,Y)}),ee&&wn(m,b),k}function x(m,p,y,S){var k=Pr(y);if(typeof k!="function")throw Error(P(150));if(y=k.call(y),y==null)throw Error(P(151));for(var C=k=null,_=p,b=p=0,V=null,M=y.next();_!==null&&!M.done;b++,M=y.next()){_.index>b?(V=_,_=null):V=_.sibling;var Y=h(m,_,M.value,S);if(Y===null){_===null&&(_=V);break}e&&_&&Y.alternate===null&&t(m,_),p=i(Y,p,b),C===null?k=Y:C.sibling=Y,C=Y,_=V}if(M.done)return n(m,_),ee&&wn(m,b),k;if(_===null){for(;!M.done;b++,M=y.next())M=f(m,M.value,S),M!==null&&(p=i(M,p,b),C===null?k=M:C.sibling=M,C=M);return ee&&wn(m,b),k}for(_=r(m,_);!M.done;b++,M=y.next())M=g(_,m,b,M.value,S),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?b:M.key),p=i(M,p,b),C===null?k=M:C.sibling=M,C=M);return e&&_.forEach(function(Pe){return t(m,Pe)}),ee&&wn(m,b),k}function T(m,p,y,S){if(typeof y=="object"&&y!==null&&y.type===$n&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case $s:e:{for(var k=y.key,C=p;C!==null;){if(C.key===k){if(k=y.type,k===$n){if(C.tag===7){n(m,C.sibling),p=s(C,y.props.children),p.return=m,m=p;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ht&&gd(k)===C.type){n(m,C.sibling),p=s(C,y.props),p.ref=Dr(m,C,y),p.return=m,m=p;break e}n(m,C);break}else t(m,C);C=C.sibling}y.type===$n?(p=Pn(y.props.children,m.mode,S,y.key),p.return=m,m=p):(S=ki(y.type,y.key,y.props,null,m.mode,S),S.ref=Dr(m,p,y),S.return=m,m=S)}return o(m);case zn:e:{for(C=y.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=s(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=ra(y,m.mode,S),p.return=m,m=p}return o(m);case Ht:return C=y._init,T(m,p,C(y._payload),S)}if(Br(y))return v(m,p,y,S);if(Pr(y))return x(m,p,y,S);Js(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,y),p.return=m,m=p):(n(m,p),p=na(y,m.mode,S),p.return=m,m=p),o(m)):n(m,p)}return T}var mr=_p(!0),Cp=_p(!1),Wi=pn(null),Hi=null,Qn=null,yu=null;function vu(){yu=Qn=Hi=null}function xu(e){var t=Wi.current;Q(Wi),e._currentValue=t}function Ja(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lr(e,t){Hi=e,yu=Qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ve=!0),e.firstContext=null)}function rt(e){var t=e._currentValue;if(yu!==e)if(e={context:e,memoizedValue:t,next:null},Qn===null){if(Hi===null)throw Error(P(308));Qn=e,Hi.dependencies={lanes:0,firstContext:e}}else Qn=Qn.next=e;return t}var bn=null;function wu(e){bn===null?bn=[e]:bn.push(e)}function Np(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,wu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Mt(e,r)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Kt=!1;function Su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Mt(e,n)}return s=r.interleaved,s===null?(t.next=t,wu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Mt(e,n)}function gi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}function yd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ki(e,t,n,r){var s=e.updateQueue;Kt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,g=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,x=a;switch(h=t,g=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=ie({},f,h);break e;case 2:Kt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=f):c=c.next=g,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Mn|=o,e.lanes=o,e.memoizedState=f}}function vd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var Ls={},wt=pn(Ls),ys=pn(Ls),vs=pn(Ls);function En(e){if(e===Ls)throw Error(P(174));return e}function ku(e,t){switch(q(vs,t),q(ys,e),q(wt,Ls),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:La(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=La(t,e)}Q(wt),q(wt,t)}function gr(){Q(wt),Q(ys),Q(vs)}function jp(e){En(vs.current);var t=En(wt.current),n=La(t,e.type);t!==n&&(q(ys,e),q(wt,n))}function Tu(e){ys.current===e&&(Q(wt),Q(ys))}var ne=pn(0);function Yi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qo=[];function bu(){for(var e=0;e<Qo.length;e++)Qo[e]._workInProgressVersionPrimary=null;Qo.length=0}var yi=Bt.ReactCurrentDispatcher,Xo=Bt.ReactCurrentBatchConfig,Dn=0,se=null,pe=null,ye=null,qi=!1,Qr=!1,xs=0,Pv=0;function be(){throw Error(P(321))}function Eu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ht(e[n],t[n]))return!1;return!0}function _u(e,t,n,r,s,i){if(Dn=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yi.current=e===null||e.memoizedState===null?Lv:Dv,e=n(r,s),Qr){i=0;do{if(Qr=!1,xs=0,25<=i)throw Error(P(301));i+=1,ye=pe=null,t.updateQueue=null,yi.current=Mv,e=n(r,s)}while(Qr)}if(yi.current=Gi,t=pe!==null&&pe.next!==null,Dn=0,ye=pe=se=null,qi=!1,t)throw Error(P(300));return e}function Cu(){var e=xs!==0;return xs=0,e}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?se.memoizedState=ye=e:ye=ye.next=e,ye}function st(){if(pe===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ye===null?se.memoizedState:ye.next;if(t!==null)ye=t,pe=e;else{if(e===null)throw Error(P(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ye===null?se.memoizedState=ye=e:ye=ye.next=e}return ye}function ws(e,t){return typeof t=="function"?t(e):t}function Zo(e){var t=st(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Dn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,se.lanes|=c,Mn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,ht(r,t.memoizedState)||(Ve=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,se.lanes|=i,Mn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jo(e){var t=st(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ht(i,t.memoizedState)||(Ve=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ap(){}function Rp(e,t){var n=se,r=st(),s=t(),i=!ht(r.memoizedState,s);if(i&&(r.memoizedState=s,Ve=!0),r=r.queue,Nu(Mp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,Ss(9,Dp.bind(null,n,r,s,t),void 0,null),ve===null)throw Error(P(349));Dn&30||Lp(n,t,s)}return s}function Lp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Dp(e,t,n,r){t.value=n,t.getSnapshot=r,Op(t)&&Vp(e)}function Mp(e,t,n){return n(function(){Op(t)&&Vp(e)})}function Op(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ht(e,n)}catch{return!0}}function Vp(e){var t=Mt(e,1);t!==null&&ft(t,e,1,-1)}function xd(e){var t=gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Rv.bind(null,se,e),[t.memoizedState,e]}function Ss(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ip(){return st().memoizedState}function vi(e,t,n,r){var s=gt();se.flags|=e,s.memoizedState=Ss(1|t,n,void 0,r===void 0?null:r)}function mo(e,t,n,r){var s=st();r=r===void 0?null:r;var i=void 0;if(pe!==null){var o=pe.memoizedState;if(i=o.destroy,r!==null&&Eu(r,o.deps)){s.memoizedState=Ss(t,n,i,r);return}}se.flags|=e,s.memoizedState=Ss(1|t,n,i,r)}function wd(e,t){return vi(8390656,8,e,t)}function Nu(e,t){return mo(2048,8,e,t)}function Fp(e,t){return mo(4,2,e,t)}function Bp(e,t){return mo(4,4,e,t)}function zp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $p(e,t,n){return n=n!=null?n.concat([e]):null,mo(4,4,zp.bind(null,t,e),n)}function Pu(){}function Up(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Eu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wp(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Eu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hp(e,t,n){return Dn&21?(ht(n,t)||(n=Qh(),se.lanes|=n,Mn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ve=!0),e.memoizedState=n)}function jv(e,t){var n=K;K=n!==0&&4>n?n:4,e(!0);var r=Xo.transition;Xo.transition={};try{e(!1),t()}finally{K=n,Xo.transition=r}}function Kp(){return st().memoizedState}function Av(e,t,n){var r=sn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yp(e))qp(t,n);else if(n=Np(e,t,n,r),n!==null){var s=Re();ft(n,e,r,s),Gp(n,t,r)}}function Rv(e,t,n){var r=sn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yp(e))qp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ht(a,o)){var l=t.interleaved;l===null?(s.next=s,wu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Np(e,t,s,r),n!==null&&(s=Re(),ft(n,e,r,s),Gp(n,t,r))}}function Yp(e){var t=e.alternate;return e===se||t!==null&&t===se}function qp(e,t){Qr=qi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ou(e,n)}}var Gi={readContext:rt,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Lv={readContext:rt,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:wd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vi(4194308,4,zp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vi(4194308,4,e,t)},useInsertionEffect:function(e,t){return vi(4,2,e,t)},useMemo:function(e,t){var n=gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Av.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:xd,useDebugValue:Pu,useDeferredValue:function(e){return gt().memoizedState=e},useTransition:function(){var e=xd(!1),t=e[0];return e=jv.bind(null,e[1]),gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,s=gt();if(ee){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),ve===null)throw Error(P(349));Dn&30||Lp(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,wd(Mp.bind(null,r,i,e),[e]),r.flags|=2048,Ss(9,Dp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=gt(),t=ve.identifierPrefix;if(ee){var n=At,r=jt;n=(r&~(1<<32-dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Pv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dv={readContext:rt,useCallback:Up,useContext:rt,useEffect:Nu,useImperativeHandle:$p,useInsertionEffect:Fp,useLayoutEffect:Bp,useMemo:Wp,useReducer:Zo,useRef:Ip,useState:function(){return Zo(ws)},useDebugValue:Pu,useDeferredValue:function(e){var t=st();return Hp(t,pe.memoizedState,e)},useTransition:function(){var e=Zo(ws)[0],t=st().memoizedState;return[e,t]},useMutableSource:Ap,useSyncExternalStore:Rp,useId:Kp,unstable_isNewReconciler:!1},Mv={readContext:rt,useCallback:Up,useContext:rt,useEffect:Nu,useImperativeHandle:$p,useInsertionEffect:Fp,useLayoutEffect:Bp,useMemo:Wp,useReducer:Jo,useRef:Ip,useState:function(){return Jo(ws)},useDebugValue:Pu,useDeferredValue:function(e){var t=st();return pe===null?t.memoizedState=e:Hp(t,pe.memoizedState,e)},useTransition:function(){var e=Jo(ws)[0],t=st().memoizedState;return[e,t]},useMutableSource:Ap,useSyncExternalStore:Rp,useId:Kp,unstable_isNewReconciler:!1};function at(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function el(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return(e=e._reactInternals)?In(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Re(),s=sn(e),i=Rt(r,s);i.payload=t,n!=null&&(i.callback=n),t=nn(e,i,s),t!==null&&(ft(t,e,s,r),gi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Re(),s=sn(e),i=Rt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=nn(e,i,s),t!==null&&(ft(t,e,s,r),gi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),r=sn(e),s=Rt(n,r);s.tag=2,t!=null&&(s.callback=t),t=nn(e,s,r),t!==null&&(ft(t,e,r,n),gi(t,e,r))}};function Sd(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!hs(n,r)||!hs(s,i):!0}function Qp(e,t,n){var r=!1,s=cn,i=t.contextType;return typeof i=="object"&&i!==null?i=rt(i):(s=Be(t)?Rn:Ne.current,r=t.contextTypes,i=(r=r!=null)?hr(e,s):cn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function kd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function tl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Su(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=rt(i):(i=Be(t)?Rn:Ne.current,s.context=hr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(el(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&go.enqueueReplaceState(s,s.state,null),Ki(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function yr(e,t){try{var n="",r=t;do n+=uy(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ea(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ov=typeof WeakMap=="function"?WeakMap:Map;function Xp(e,t,n){n=Rt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xi||(Xi=!0,fl=r),nl(e,t)},n}function Zp(e,t,n){n=Rt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){nl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nl(e,t),typeof r!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Td(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ov;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Qv.bind(null,e,t,n),t.then(e,e))}function bd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ed(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rt(-1,1),t.tag=2,nn(n,t,1))),n.lanes|=1),e)}var Vv=Bt.ReactCurrentOwner,Ve=!1;function je(e,t,n,r){t.child=e===null?Cp(t,null,n,r):mr(t,e.child,n,r)}function _d(e,t,n,r,s){n=n.render;var i=t.ref;return lr(t,s),r=_u(e,t,n,r,i,s),n=Cu(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(ee&&n&&pu(t),t.flags|=1,je(e,t,r,s),t.child)}function Cd(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Vu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Jp(e,t,i,r,s)):(e=ki(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:hs,n(o,r)&&e.ref===t.ref)return Ot(e,t,s)}return t.flags|=1,e=on(i,r),e.ref=t.ref,e.return=t,t.child=e}function Jp(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(hs(i,r)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,Ot(e,t,s)}return rl(e,t,n,r,s)}function em(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Zn,$e),$e|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(Zn,$e),$e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,q(Zn,$e),$e|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,q(Zn,$e),$e|=r;return je(e,t,s,n),t.child}function tm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rl(e,t,n,r,s){var i=Be(n)?Rn:Ne.current;return i=hr(t,i),lr(t,s),n=_u(e,t,n,r,i,s),r=Cu(),e!==null&&!Ve?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(ee&&r&&pu(t),t.flags|=1,je(e,t,n,s),t.child)}function Nd(e,t,n,r,s){if(Be(n)){var i=!0;zi(t)}else i=!1;if(lr(t,s),t.stateNode===null)xi(e,t),Qp(t,n,r),tl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=rt(u):(u=Be(n)?Rn:Ne.current,u=hr(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&kd(t,o,r,u),Kt=!1;var h=t.memoizedState;o.state=h,Ki(t,r,o,s),l=t.memoizedState,a!==r||h!==l||Fe.current||Kt?(typeof c=="function"&&(el(t,n,c,r),l=t.memoizedState),(a=Kt||Sd(t,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pp(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:at(t.type,a),o.props=u,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=rt(l):(l=Be(n)?Rn:Ne.current,l=hr(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&kd(t,o,r,l),Kt=!1,h=t.memoizedState,o.state=h,Ki(t,r,o,s);var v=t.memoizedState;a!==f||h!==v||Fe.current||Kt?(typeof g=="function"&&(el(t,n,g,r),v=t.memoizedState),(u=Kt||Sd(t,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return sl(e,t,n,r,i,s)}function sl(e,t,n,r,s,i){tm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&hd(t,n,!1),Ot(e,t,i);r=t.stateNode,Vv.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=mr(t,e.child,null,i),t.child=mr(t,null,a,i)):je(e,t,a,i),t.memoizedState=r.state,s&&hd(t,n,!0),t.child}function nm(e){var t=e.stateNode;t.pendingContext?fd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fd(e,t.context,!1),ku(e,t.containerInfo)}function Pd(e,t,n,r,s){return pr(),gu(s),t.flags|=256,je(e,t,n,r),t.child}var il={dehydrated:null,treeContext:null,retryLane:0};function ol(e){return{baseLanes:e,cachePool:null,transitions:null}}function rm(e,t,n){var r=t.pendingProps,s=ne.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),q(ne,s&1),e===null)return Za(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xo(o,r,0,null),e=Pn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ol(n),t.memoizedState=il,e):ju(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Iv(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=on(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=on(a,i):(i=Pn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?ol(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=il,r}return i=e.child,e=i.sibling,r=on(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ju(e,t){return t=xo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ei(e,t,n,r){return r!==null&&gu(r),mr(t,e.child,null,n),e=ju(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Iv(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=ea(Error(P(422))),ei(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=xo({mode:"visible",children:r.children},s,0,null),i=Pn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&mr(t,e.child,null,o),t.child.memoizedState=ol(o),t.memoizedState=il,i);if(!(t.mode&1))return ei(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=ea(i,r,void 0),ei(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ve||a){if(r=ve,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Mt(e,s),ft(r,e,s,-1))}return Ou(),r=ea(Error(P(421))),ei(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Xv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ue=tn(s.nextSibling),We=t,ee=!0,ct=null,e!==null&&(Qe[Xe++]=jt,Qe[Xe++]=At,Qe[Xe++]=Ln,jt=e.id,At=e.overflow,Ln=t),t=ju(t,r.children),t.flags|=4096,t)}function jd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ja(e.return,t,n)}function ta(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function sm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(je(e,t,r.children,n),r=ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jd(e,n,t);else if(e.tag===19)jd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(ne,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Yi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ta(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Yi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ta(t,!0,n,null,i);break;case"together":ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Fv(e,t,n){switch(t.tag){case 3:nm(t),pr();break;case 5:jp(t);break;case 1:Be(t.type)&&zi(t);break;case 4:ku(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;q(Wi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(ne,ne.current&1),t.flags|=128,null):n&t.child.childLanes?rm(e,t,n):(q(ne,ne.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);q(ne,ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(ne,ne.current),r)break;return null;case 22:case 23:return t.lanes=0,em(e,t,n)}return Ot(e,t,n)}var im,al,om,am;im=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};al=function(){};om=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,En(wt.current);var i=null;switch(n){case"input":s=Pa(e,s),r=Pa(e,r),i=[];break;case"select":s=ie({},s,{value:void 0}),r=ie({},r,{value:void 0}),i=[];break;case"textarea":s=Ra(e,s),r=Ra(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Fi)}Da(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(os.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(os.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&G("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};am=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mr(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bv(e,t,n){var r=t.pendingProps;switch(mu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Be(t.type)&&Bi(),Ee(t),null;case 3:return r=t.stateNode,gr(),Q(Fe),Q(Ne),bu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&(ml(ct),ct=null))),al(e,t),Ee(t),null;case 5:Tu(t);var s=En(vs.current);if(n=t.type,e!==null&&t.stateNode!=null)om(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Ee(t),null}if(e=En(wt.current),Zs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[yt]=t,r[gs]=i,e=(t.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(s=0;s<$r.length;s++)G($r[s],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":Fc(r,i),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},G("invalid",r);break;case"textarea":zc(r,i),G("invalid",r)}Da(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Xs(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Xs(r.textContent,a,e),s=["children",""+a]):os.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&G("scroll",r)}switch(n){case"input":Us(r),Bc(r,i,!0);break;case"textarea":Us(r),$c(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Fi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[yt]=t,e[gs]=r,im(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ma(n,r),n){case"dialog":G("cancel",e),G("close",e),s=r;break;case"iframe":case"object":case"embed":G("load",e),s=r;break;case"video":case"audio":for(s=0;s<$r.length;s++)G($r[s],e);s=r;break;case"source":G("error",e),s=r;break;case"img":case"image":case"link":G("error",e),G("load",e),s=r;break;case"details":G("toggle",e),s=r;break;case"input":Fc(e,r),s=Pa(e,r),G("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ie({},r,{value:void 0}),G("invalid",e);break;case"textarea":zc(e,r),s=Ra(e,r),G("invalid",e);break;default:s=r}Da(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Ih(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Oh(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&as(e,l):typeof l=="number"&&as(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(os.hasOwnProperty(i)?l!=null&&i==="onScroll"&&G("scroll",e):l!=null&&eu(e,i,l,o))}switch(n){case"input":Us(e),Bc(e,r,!1);break;case"textarea":Us(e),$c(e);break;case"option":r.value!=null&&e.setAttribute("value",""+un(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?sr(e,!!r.multiple,i,!1):r.defaultValue!=null&&sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)am(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=En(vs.current),En(wt.current),Zs(t)){if(r=t.stateNode,n=t.memoizedProps,r[yt]=t,(i=r.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:Xs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yt]=t,t.stateNode=r}return Ee(t),null;case 13:if(Q(ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Ue!==null&&t.mode&1&&!(t.flags&128))Ep(),pr(),t.flags|=98560,i=!1;else if(i=Zs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[yt]=t}else pr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),i=!1}else ct!==null&&(ml(ct),ct=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?ge===0&&(ge=3):Ou())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return gr(),al(e,t),e===null&&ps(t.stateNode.containerInfo),Ee(t),null;case 10:return xu(t.type._context),Ee(t),null;case 17:return Be(t.type)&&Bi(),Ee(t),null;case 19:if(Q(ne),i=t.memoizedState,i===null)return Ee(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Mr(i,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Yi(e),o!==null){for(t.flags|=128,Mr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(ne,ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>vr&&(t.flags|=128,r=!0,Mr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Yi(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ee)return Ee(t),null}else 2*ue()-i.renderingStartTime>vr&&n!==1073741824&&(t.flags|=128,r=!0,Mr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,n=ne.current,q(ne,r?n&1|2:n&1),t):(Ee(t),null);case 22:case 23:return Mu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$e&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function zv(e,t){switch(mu(t),t.tag){case 1:return Be(t.type)&&Bi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gr(),Q(Fe),Q(Ne),bu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tu(t),null;case 13:if(Q(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));pr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(ne),null;case 4:return gr(),null;case 10:return xu(t.type._context),null;case 22:case 23:return Mu(),null;case 24:return null;default:return null}}var ti=!1,_e=!1,$v=typeof WeakSet=="function"?WeakSet:Set,L=null;function Xn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function ll(e,t,n){try{n()}catch(r){ae(e,t,r)}}var Ad=!1;function Uv(e,t){if(Ha=Oi,e=fp(),hu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===n&&++u===s&&(a=o),h===i&&++c===r&&(l=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ka={focusedElem:e,selectionRange:n},Oi=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,T=v.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:at(t.type,x),T);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(S){ae(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return v=Ad,Ad=!1,v}function Xr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ll(t,n,i)}s=s.next}while(s!==r)}}function yo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ul(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lm(e){var t=e.alternate;t!==null&&(e.alternate=null,lm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yt],delete t[gs],delete t[Ga],delete t[Ev],delete t[_v])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function um(e){return e.tag===5||e.tag===3||e.tag===4}function Rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||um(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fi));else if(r!==4&&(e=e.child,e!==null))for(cl(e,t,n),e=e.sibling;e!==null;)cl(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(dl(e,t,n),e=e.sibling;e!==null;)dl(e,t,n),e=e.sibling}var we=null,lt=!1;function Ut(e,t,n){for(n=n.child;n!==null;)cm(e,t,n),n=n.sibling}function cm(e,t,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(lo,n)}catch{}switch(n.tag){case 5:_e||Xn(n,t);case 6:var r=we,s=lt;we=null,Ut(e,t,n),we=r,lt=s,we!==null&&(lt?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(lt?(e=we,n=n.stateNode,e.nodeType===8?qo(e.parentNode,n):e.nodeType===1&&qo(e,n),ds(e)):qo(we,n.stateNode));break;case 4:r=we,s=lt,we=n.stateNode.containerInfo,lt=!0,Ut(e,t,n),we=r,lt=s;break;case 0:case 11:case 14:case 15:if(!_e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ll(n,t,o),s=s.next}while(s!==r)}Ut(e,t,n);break;case 1:if(!_e&&(Xn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ae(n,t,a)}Ut(e,t,n);break;case 21:Ut(e,t,n);break;case 22:n.mode&1?(_e=(r=_e)||n.memoizedState!==null,Ut(e,t,n),_e=r):Ut(e,t,n);break;default:Ut(e,t,n)}}function Ld(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $v),t.forEach(function(r){var s=Zv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function it(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:we=a.stateNode,lt=!1;break e;case 3:we=a.stateNode.containerInfo,lt=!0;break e;case 4:we=a.stateNode.containerInfo,lt=!0;break e}a=a.return}if(we===null)throw Error(P(160));cm(i,o,s),we=null,lt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ae(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dm(t,e),t=t.sibling}function dm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(it(t,e),mt(e),r&4){try{Xr(3,e,e.return),yo(3,e)}catch(x){ae(e,e.return,x)}try{Xr(5,e,e.return)}catch(x){ae(e,e.return,x)}}break;case 1:it(t,e),mt(e),r&512&&n!==null&&Xn(n,n.return);break;case 5:if(it(t,e),mt(e),r&512&&n!==null&&Xn(n,n.return),e.flags&32){var s=e.stateNode;try{as(s,"")}catch(x){ae(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Lh(s,i),Ma(a,o);var u=Ma(a,i);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?Ih(s,f):c==="dangerouslySetInnerHTML"?Oh(s,f):c==="children"?as(s,f):eu(s,c,f,u)}switch(a){case"input":ja(s,i);break;case"textarea":Dh(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?sr(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?sr(s,!!i.multiple,i.defaultValue,!0):sr(s,!!i.multiple,i.multiple?[]:"",!1))}s[gs]=i}catch(x){ae(e,e.return,x)}}break;case 6:if(it(t,e),mt(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){ae(e,e.return,x)}}break;case 3:if(it(t,e),mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ds(t.containerInfo)}catch(x){ae(e,e.return,x)}break;case 4:it(t,e),mt(e);break;case 13:it(t,e),mt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lu=ue())),r&4&&Ld(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(u=_e)||c,it(t,e),_e=u):it(t,e),mt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(L=e,c=e.child;c!==null;){for(f=L=c;L!==null;){switch(h=L,g=h.child,h.tag){case 0:case 11:case 14:case 15:Xr(4,h,h.return);break;case 1:Xn(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){ae(r,n,x)}}break;case 5:Xn(h,h.return);break;case 22:if(h.memoizedState!==null){Md(f);continue}}g!==null?(g.return=h,L=g):Md(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Vh("display",o))}catch(x){ae(e,e.return,x)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ae(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:it(t,e),mt(e),r&4&&Ld(e);break;case 21:break;default:it(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(um(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(as(s,""),r.flags&=-33);var i=Rd(e);dl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Rd(e);cl(e,a,o);break;default:throw Error(P(161))}}catch(l){ae(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wv(e,t,n){L=e,fm(e)}function fm(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var s=L,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ti;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||_e;a=ti;var u=_e;if(ti=o,(_e=l)&&!u)for(L=s;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?Od(s):l!==null?(l.return=o,L=l):Od(s);for(;i!==null;)L=i,fm(i),i=i.sibling;L=s,ti=a,_e=u}Dd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,L=i):Dd(e)}}function Dd(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||yo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_e)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:at(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&vd(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ds(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}_e||t.flags&512&&ul(t)}catch(h){ae(t,t.return,h)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Md(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Od(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yo(4,t)}catch(l){ae(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ae(t,s,l)}}var i=t.return;try{ul(t)}catch(l){ae(t,i,l)}break;case 5:var o=t.return;try{ul(t)}catch(l){ae(t,o,l)}}}catch(l){ae(t,t.return,l)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var Hv=Math.ceil,Qi=Bt.ReactCurrentDispatcher,Au=Bt.ReactCurrentOwner,tt=Bt.ReactCurrentBatchConfig,W=0,ve=null,fe=null,ke=0,$e=0,Zn=pn(0),ge=0,ks=null,Mn=0,vo=0,Ru=0,Zr=null,Oe=null,Lu=0,vr=1/0,_t=null,Xi=!1,fl=null,rn=null,ni=!1,Xt=null,Zi=0,Jr=0,hl=null,wi=-1,Si=0;function Re(){return W&6?ue():wi!==-1?wi:wi=ue()}function sn(e){return e.mode&1?W&2&&ke!==0?ke&-ke:Nv.transition!==null?(Si===0&&(Si=Qh()),Si):(e=K,e!==0||(e=window.event,e=e===void 0?16:rp(e.type)),e):1}function ft(e,t,n,r){if(50<Jr)throw Jr=0,hl=null,Error(P(185));js(e,n,r),(!(W&2)||e!==ve)&&(e===ve&&(!(W&2)&&(vo|=n),ge===4&&qt(e,ke)),ze(e,r),n===1&&W===0&&!(t.mode&1)&&(vr=ue()+500,po&&mn()))}function ze(e,t){var n=e.callbackNode;Ny(e,t);var r=Mi(e,e===ve?ke:0);if(r===0)n!==null&&Hc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hc(n),t===1)e.tag===0?Cv(Vd.bind(null,e)):kp(Vd.bind(null,e)),Tv(function(){!(W&6)&&mn()}),n=null;else{switch(Xh(r)){case 1:n=iu;break;case 4:n=qh;break;case 16:n=Di;break;case 536870912:n=Gh;break;default:n=Di}n=wm(n,hm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hm(e,t){if(wi=-1,Si=0,W&6)throw Error(P(327));var n=e.callbackNode;if(ur()&&e.callbackNode!==n)return null;var r=Mi(e,e===ve?ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ji(e,r);else{t=r;var s=W;W|=2;var i=mm();(ve!==e||ke!==t)&&(_t=null,vr=ue()+500,Nn(e,t));do try{qv();break}catch(a){pm(e,a)}while(!0);vu(),Qi.current=i,W=s,fe!==null?t=0:(ve=null,ke=0,t=ge)}if(t!==0){if(t===2&&(s=Ba(e),s!==0&&(r=s,t=pl(e,s))),t===1)throw n=ks,Nn(e,0),qt(e,r),ze(e,ue()),n;if(t===6)qt(e,r);else{if(s=e.current.alternate,!(r&30)&&!Kv(s)&&(t=Ji(e,r),t===2&&(i=Ba(e),i!==0&&(r=i,t=pl(e,i))),t===1))throw n=ks,Nn(e,0),qt(e,r),ze(e,ue()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:Sn(e,Oe,_t);break;case 3:if(qt(e,r),(r&130023424)===r&&(t=Lu+500-ue(),10<t)){if(Mi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Re(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=qa(Sn.bind(null,e,Oe,_t),t);break}Sn(e,Oe,_t);break;case 4:if(qt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-dt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hv(r/1960))-r,10<r){e.timeoutHandle=qa(Sn.bind(null,e,Oe,_t),r);break}Sn(e,Oe,_t);break;case 5:Sn(e,Oe,_t);break;default:throw Error(P(329))}}}return ze(e,ue()),e.callbackNode===n?hm.bind(null,e):null}function pl(e,t){var n=Zr;return e.current.memoizedState.isDehydrated&&(Nn(e,t).flags|=256),e=Ji(e,t),e!==2&&(t=Oe,Oe=n,t!==null&&ml(t)),e}function ml(e){Oe===null?Oe=e:Oe.push.apply(Oe,e)}function Kv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ht(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qt(e,t){for(t&=~Ru,t&=~vo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dt(t),r=1<<n;e[n]=-1,t&=~r}}function Vd(e){if(W&6)throw Error(P(327));ur();var t=Mi(e,0);if(!(t&1))return ze(e,ue()),null;var n=Ji(e,t);if(e.tag!==0&&n===2){var r=Ba(e);r!==0&&(t=r,n=pl(e,r))}if(n===1)throw n=ks,Nn(e,0),qt(e,t),ze(e,ue()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sn(e,Oe,_t),ze(e,ue()),null}function Du(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(vr=ue()+500,po&&mn())}}function On(e){Xt!==null&&Xt.tag===0&&!(W&6)&&ur();var t=W;W|=1;var n=tt.transition,r=K;try{if(tt.transition=null,K=1,e)return e()}finally{K=r,tt.transition=n,W=t,!(W&6)&&mn()}}function Mu(){$e=Zn.current,Q(Zn)}function Nn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kv(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch(mu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bi();break;case 3:gr(),Q(Fe),Q(Ne),bu();break;case 5:Tu(r);break;case 4:gr();break;case 13:Q(ne);break;case 19:Q(ne);break;case 10:xu(r.type._context);break;case 22:case 23:Mu()}n=n.return}if(ve=e,fe=e=on(e.current,null),ke=$e=t,ge=0,ks=null,Ru=vo=Mn=0,Oe=Zr=null,bn!==null){for(t=0;t<bn.length;t++)if(n=bn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}bn=null}return e}function pm(e,t){do{var n=fe;try{if(vu(),yi.current=Gi,qi){for(var r=se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}qi=!1}if(Dn=0,ye=pe=se=null,Qr=!1,xs=0,Au.current=null,n===null||n.return===null){ge=1,ks=t,fe=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=bd(o);if(g!==null){g.flags&=-257,Ed(g,o,a,i,t),g.mode&1&&Td(i,u,t),t=g,l=u;var v=t.updateQueue;if(v===null){var x=new Set;x.add(l),t.updateQueue=x}else v.add(l);break e}else{if(!(t&1)){Td(i,u,t),Ou();break e}l=Error(P(426))}}else if(ee&&a.mode&1){var T=bd(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Ed(T,o,a,i,t),gu(yr(l,a));break e}}i=l=yr(l,a),ge!==4&&(ge=2),Zr===null?Zr=[i]:Zr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Xp(i,l,t);yd(i,m);break e;case 1:a=l;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(rn===null||!rn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Zp(i,a,t);yd(i,S);break e}}i=i.return}while(i!==null)}ym(n)}catch(k){t=k,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function mm(){var e=Qi.current;return Qi.current=Gi,e===null?Gi:e}function Ou(){(ge===0||ge===3||ge===2)&&(ge=4),ve===null||!(Mn&268435455)&&!(vo&268435455)||qt(ve,ke)}function Ji(e,t){var n=W;W|=2;var r=mm();(ve!==e||ke!==t)&&(_t=null,Nn(e,t));do try{Yv();break}catch(s){pm(e,s)}while(!0);if(vu(),W=n,Qi.current=r,fe!==null)throw Error(P(261));return ve=null,ke=0,ge}function Yv(){for(;fe!==null;)gm(fe)}function qv(){for(;fe!==null&&!xy();)gm(fe)}function gm(e){var t=xm(e.alternate,e,$e);e.memoizedProps=e.pendingProps,t===null?ym(e):fe=t,Au.current=null}function ym(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zv(n,t),n!==null){n.flags&=32767,fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,fe=null;return}}else if(n=Bv(n,t,$e),n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);ge===0&&(ge=5)}function Sn(e,t,n){var r=K,s=tt.transition;try{tt.transition=null,K=1,Gv(e,t,n,r)}finally{tt.transition=s,K=r}return null}function Gv(e,t,n,r){do ur();while(Xt!==null);if(W&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Py(e,i),e===ve&&(fe=ve=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ni||(ni=!0,wm(Di,function(){return ur(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tt.transition,tt.transition=null;var o=K;K=1;var a=W;W|=4,Au.current=null,Uv(e,n),dm(n,e),mv(Ka),Oi=!!Ha,Ka=Ha=null,e.current=n,Wv(n),wy(),W=a,K=o,tt.transition=i}else e.current=n;if(ni&&(ni=!1,Xt=e,Zi=s),i=e.pendingLanes,i===0&&(rn=null),Ty(n.stateNode),ze(e,ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xi)throw Xi=!1,e=fl,fl=null,e;return Zi&1&&e.tag!==0&&ur(),i=e.pendingLanes,i&1?e===hl?Jr++:(Jr=0,hl=e):Jr=0,mn(),null}function ur(){if(Xt!==null){var e=Xh(Zi),t=tt.transition,n=K;try{if(tt.transition=null,K=16>e?16:e,Xt===null)var r=!1;else{if(e=Xt,Xt=null,Zi=0,W&6)throw Error(P(331));var s=W;for(W|=4,L=e.current;L!==null;){var i=L,o=i.child;if(L.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:Xr(8,c,i)}var f=c.child;if(f!==null)f.return=c,L=f;else for(;L!==null;){c=L;var h=c.sibling,g=c.return;if(lm(c),c===u){L=null;break}if(h!==null){h.return=g,L=h;break}L=g}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var T=x.sibling;x.sibling=null,x=T}while(x!==null)}}L=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,L=o;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,L=m;break e}L=i.return}}var p=e.current;for(L=p;L!==null;){o=L;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,L=y;else e:for(o=p;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yo(9,a)}}catch(k){ae(a,a.return,k)}if(a===o){L=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,L=S;break e}L=a.return}}if(W=s,mn(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(lo,e)}catch{}r=!0}return r}finally{K=n,tt.transition=t}}return!1}function Id(e,t,n){t=yr(n,t),t=Xp(e,t,1),e=nn(e,t,1),t=Re(),e!==null&&(js(e,1,t),ze(e,t))}function ae(e,t,n){if(e.tag===3)Id(e,e,n);else for(;t!==null;){if(t.tag===3){Id(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rn===null||!rn.has(r))){e=yr(n,e),e=Zp(t,e,1),t=nn(t,e,1),e=Re(),t!==null&&(js(t,1,e),ze(t,e));break}}t=t.return}}function Qv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,ve===e&&(ke&n)===n&&(ge===4||ge===3&&(ke&130023424)===ke&&500>ue()-Lu?Nn(e,0):Ru|=n),ze(e,t)}function vm(e,t){t===0&&(e.mode&1?(t=Ks,Ks<<=1,!(Ks&130023424)&&(Ks=4194304)):t=1);var n=Re();e=Mt(e,t),e!==null&&(js(e,t,n),ze(e,n))}function Xv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vm(e,n)}function Zv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),vm(e,n)}var xm;xm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)Ve=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ve=!1,Fv(e,t,n);Ve=!!(e.flags&131072)}else Ve=!1,ee&&t.flags&1048576&&Tp(t,Ui,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xi(e,t),e=t.pendingProps;var s=hr(t,Ne.current);lr(t,n),s=_u(null,t,r,e,s,n);var i=Cu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Be(r)?(i=!0,zi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Su(t),s.updater=go,t.stateNode=s,s._reactInternals=t,tl(t,r,e,n),t=sl(null,t,r,!0,i,n)):(t.tag=0,ee&&i&&pu(t),je(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ex(r),e=at(r,e),s){case 0:t=rl(null,t,r,e,n);break e;case 1:t=Nd(null,t,r,e,n);break e;case 11:t=_d(null,t,r,e,n);break e;case 14:t=Cd(null,t,r,at(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:at(r,s),rl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:at(r,s),Nd(e,t,r,s,n);case 3:e:{if(nm(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Pp(e,t),Ki(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=yr(Error(P(423)),t),t=Pd(e,t,r,n,s);break e}else if(r!==s){s=yr(Error(P(424)),t),t=Pd(e,t,r,n,s);break e}else for(Ue=tn(t.stateNode.containerInfo.firstChild),We=t,ee=!0,ct=null,n=Cp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pr(),r===s){t=Ot(e,t,n);break e}je(e,t,r,n)}t=t.child}return t;case 5:return jp(t),e===null&&Za(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ya(r,s)?o=null:i!==null&&Ya(r,i)&&(t.flags|=32),tm(e,t),je(e,t,o,n),t.child;case 6:return e===null&&Za(t),null;case 13:return rm(e,t,n);case 4:return ku(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mr(t,null,r,n):je(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:at(r,s),_d(e,t,r,s,n);case 7:return je(e,t,t.pendingProps,n),t.child;case 8:return je(e,t,t.pendingProps.children,n),t.child;case 12:return je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,q(Wi,r._currentValue),r._currentValue=o,i!==null)if(ht(i.value,o)){if(i.children===s.children&&!Fe.current){t=Ot(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Rt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ja(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ja(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}je(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,lr(t,n),s=rt(s),r=r(s),t.flags|=1,je(e,t,r,n),t.child;case 14:return r=t.type,s=at(r,t.pendingProps),s=at(r.type,s),Cd(e,t,r,s,n);case 15:return Jp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:at(r,s),xi(e,t),t.tag=1,Be(r)?(e=!0,zi(t)):e=!1,lr(t,n),Qp(t,r,s),tl(t,r,s,n),sl(null,t,r,!0,e,n);case 19:return sm(e,t,n);case 22:return em(e,t,n)}throw Error(P(156,t.tag))};function wm(e,t){return Yh(e,t)}function Jv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(e,t,n,r){return new Jv(e,t,n,r)}function Vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ex(e){if(typeof e=="function")return Vu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nu)return 11;if(e===ru)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=Je(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ki(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Vu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case $n:return Pn(n.children,s,i,t);case tu:o=8,s|=8;break;case Ea:return e=Je(12,n,t,s|2),e.elementType=Ea,e.lanes=i,e;case _a:return e=Je(13,n,t,s),e.elementType=_a,e.lanes=i,e;case Ca:return e=Je(19,n,t,s),e.elementType=Ca,e.lanes=i,e;case jh:return xo(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nh:o=10;break e;case Ph:o=9;break e;case nu:o=11;break e;case ru:o=14;break e;case Ht:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Je(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Pn(e,t,n,r){return e=Je(7,e,r,t),e.lanes=n,e}function xo(e,t,n,r){return e=Je(22,e,r,t),e.elementType=jh,e.lanes=n,e.stateNode={isHidden:!1},e}function na(e,t,n){return e=Je(6,e,null,t),e.lanes=n,e}function ra(e,t,n){return t=Je(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tx(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vo(0),this.expirationTimes=Vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Iu(e,t,n,r,s,i,o,a,l){return e=new tx(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Je(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Su(i),e}function nx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Sm(e){if(!e)return cn;e=e._reactInternals;e:{if(In(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Be(n))return Sp(e,n,t)}return t}function km(e,t,n,r,s,i,o,a,l){return e=Iu(n,r,!0,e,s,i,o,a,l),e.context=Sm(null),n=e.current,r=Re(),s=sn(n),i=Rt(r,s),i.callback=t??null,nn(n,i,s),e.current.lanes=s,js(e,s,r),ze(e,r),e}function wo(e,t,n,r){var s=t.current,i=Re(),o=sn(s);return n=Sm(n),t.context===null?t.context=n:t.pendingContext=n,t=Rt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=nn(s,t,o),e!==null&&(ft(e,s,o,i),gi(e,s,o)),o}function eo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fu(e,t){Fd(e,t),(e=e.alternate)&&Fd(e,t)}function rx(){return null}var Tm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bu(e){this._internalRoot=e}So.prototype.render=Bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));wo(e,t,null,null)};So.prototype.unmount=Bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;On(function(){wo(null,e,null,null)}),t[Dt]=null}};function So(e){this._internalRoot=e}So.prototype.unstable_scheduleHydration=function(e){if(e){var t=ep();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&np(e)}};function zu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bd(){}function sx(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=eo(o);i.call(u)}}var o=km(t,r,e,0,null,!1,!1,"",Bd);return e._reactRootContainer=o,e[Dt]=o.current,ps(e.nodeType===8?e.parentNode:e),On(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=eo(l);a.call(u)}}var l=Iu(e,0,!1,null,null,!1,!1,"",Bd);return e._reactRootContainer=l,e[Dt]=l.current,ps(e.nodeType===8?e.parentNode:e),On(function(){wo(t,l,n,r)}),l}function To(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=eo(o);a.call(l)}}wo(t,o,e,s)}else o=sx(n,t,e,s,r);return eo(o)}Zh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zr(t.pendingLanes);n!==0&&(ou(t,n|1),ze(t,ue()),!(W&6)&&(vr=ue()+500,mn()))}break;case 13:On(function(){var r=Mt(e,1);if(r!==null){var s=Re();ft(r,e,1,s)}}),Fu(e,1)}};au=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=Re();ft(t,e,134217728,n)}Fu(e,134217728)}};Jh=function(e){if(e.tag===13){var t=sn(e),n=Mt(e,t);if(n!==null){var r=Re();ft(n,e,t,r)}Fu(e,t)}};ep=function(){return K};tp=function(e,t){var n=K;try{return K=e,t()}finally{K=n}};Va=function(e,t,n){switch(t){case"input":if(ja(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ho(r);if(!s)throw Error(P(90));Rh(r),ja(r,s)}}}break;case"textarea":Dh(e,n);break;case"select":t=n.value,t!=null&&sr(e,!!n.multiple,t,!1)}};zh=Du;$h=On;var ix={usingClientEntryPoint:!1,Events:[Rs,Kn,ho,Fh,Bh,Du]},Or={findFiberByHostInstance:Tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ox={bundleType:Or.bundleType,version:Or.version,rendererPackageName:Or.rendererPackageName,rendererConfig:Or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hh(e),e===null?null:e.stateNode},findFiberByHostInstance:Or.findFiberByHostInstance||rx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{lo=ri.inject(ox),xt=ri}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ix;Ke.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zu(t))throw Error(P(200));return nx(e,t,null,n)};Ke.createRoot=function(e,t){if(!zu(e))throw Error(P(299));var n=!1,r="",s=Tm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Iu(e,1,!1,null,null,n,!1,r,s),e[Dt]=t.current,ps(e.nodeType===8?e.parentNode:e),new Bu(t)};Ke.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Hh(t),e=e===null?null:e.stateNode,e};Ke.flushSync=function(e){return On(e)};Ke.hydrate=function(e,t,n){if(!ko(t))throw Error(P(200));return To(null,e,t,!0,n)};Ke.hydrateRoot=function(e,t,n){if(!zu(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Tm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=km(t,null,e,1,n??null,s,!1,i,o),e[Dt]=t.current,ps(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new So(t)};Ke.render=function(e,t,n){if(!ko(t))throw Error(P(200));return To(null,e,t,!1,n)};Ke.unmountComponentAtNode=function(e){if(!ko(e))throw Error(P(40));return e._reactRootContainer?(On(function(){To(null,null,e,!1,function(){e._reactRootContainer=null,e[Dt]=null})}),!0):!1};Ke.unstable_batchedUpdates=Du;Ke.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ko(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return To(e,t,n,!1,r)};Ke.version="18.3.1-next-f1338f8080-20240426";function bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bm)}catch(e){console.error(e)}}bm(),bh.exports=Ke;var ax=bh.exports,Em,zd=ax;Em=zd.createRoot,zd.hydrateRoot;const _m=typeof window<"u"?window.location.hostname:"",Cm=/\.netlify\.app$/i.test(_m),Nm=/(^|\.)buzztalk\.me$/i.test(_m),Ds=((Cm||Nm?"https://server.buzztalk.me":typeof window<"u"?window.location.origin:"")||"http://localhost:5000").replace(/\/$/,""),ce=async(e,t="GET",n=null,r=null)=>{const s=`${Ds}/api/${e}`,i={Accept:"application/json"};r&&(i.Authorization=`Bearer ${r}`);const o=n!=null;o&&(i["Content-Type"]="application/json");const a={method:t,headers:i,...o?{body:JSON.stringify(n)}:{}};let l;try{l=await fetch(s,a)}catch(f){throw new Error(`Network error contacting API: ${f.message}`)}let u;const c=l.headers.get("content-type")||"";try{c.includes("application/json")?u=await l.json():u={message:await l.text()}}catch{u={message:"Invalid response from server"}}if(!l.ok){if(l.status===401){const g=(u==null?void 0:u.message)||"Unauthorized (401)",v=new Error(g);throw v.status=401,typeof window<"u"&&!window.__BUZZTALK__401_HINT_SHOWN&&(console.warn("[Buzztalk] Received 401 from API:",s,"— verify token validity, API_URL env (VITE_API_URL)","and CORS/Authorization handling on backend."),window.__BUZZTALK__401_HINT_SHOWN=!0),v}const f=(u==null?void 0:u.message)||`API request failed (${l.status})`,h=new Error(f);throw h.status=l.status,h}return u},lx=Cm,ux=Nm,gl=(lx||ux?"https://server.buzztalk.me":Ds).replace(/\/$/,"");typeof window<"u"&&(window.__BUZZTALK_CONFIG=window.__BUZZTALK_CONFIG||{API_URL:Ds,SOCKET_URL:gl});const Pm=async(e,t)=>{const n=`${Ds}/api/upload/avatar`,r=new FormData;r.append("avatar",e);const s={};t&&(s.Authorization=`Bearer ${t}`);let i;try{i=await fetch(n,{method:"POST",body:r,headers:s})}catch(l){throw new Error(`Network error uploading avatar: ${l.message}`)}let o;const a=i.headers.get("content-type")||"";try{a.includes("application/json")?o=await i.json():o={message:await i.text()}}catch{o={message:"Invalid response from server"}}if(!i.ok){const l=(o==null?void 0:o.message)||`Avatar upload failed (${i.status})`;throw new Error(l)}return o},cx=async(e,t)=>{const n=`${Ds}/api/upload/file`,r=new FormData;r.append("file",e);const s={};t&&(s.Authorization=`Bearer ${t}`);let i;try{i=await fetch(n,{method:"POST",body:r,headers:s})}catch(l){throw new Error(`Network error uploading file: ${l.message}`)}let o;const a=i.headers.get("content-type")||"";try{a.includes("application/json")?o=await i.json():o={message:await i.text()}}catch{o={message:"Invalid response from server"}}if(!i.ok){const l=(o==null?void 0:o.message)||`File upload failed (${i.status})`;throw new Error(l)}return o},dx=async(e,t)=>ce(`chats/${e}`,"DELETE",null,t),fx=async(e,t)=>ce("users/unfriend","POST",{userId:e},t),hx=async(e,t)=>ce("users/block","POST",{userId:e},t);let px={data:""},mx=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||px,gx=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,yx=/\/\*[^]*?\*\/|  +/g,$d=/\n+/g,Gt=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Gt(o,i):i+"{"+Gt(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=Gt(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Gt.p?Gt.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Et={},jm=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+jm(e[n]);return t}return e},vx=(e,t,n,r,s)=>{let i=jm(e),o=Et[i]||(Et[i]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(i));if(!Et[o]){let l=i!==e?e:(u=>{let c,f,h=[{}];for(;c=gx.exec(u.replace(yx,""));)c[4]?h.shift():c[3]?(f=c[3].replace($d," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][c[1]]=c[2].replace($d," ").trim();return h[0]})(e);Et[o]=Gt(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Et.g?Et.g:null;return n&&(Et.g=Et[o]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Et[o],t,r,a),o},xx=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Gt(a,""):a===!1?"":a}return r+s+(o??"")},"");function bo(e){let t=this||{},n=e.call?e(t.p):e;return vx(n.unshift?n.raw?xx(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,mx(t.target),t.g,t.o,t.k)}let Am,yl,vl;bo.bind({g:1});let Vt=bo.bind({k:1});function wx(e,t,n,r){Gt.p=t,Am=e,yl=n,vl=r}function gn(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:yl&&yl()},a),n.o=/ *go\d+/.test(l),a.className=bo.apply(n,r)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),vl&&u[0]&&vl(a),Am(u,a)}return s}}var Sx=e=>typeof e=="function",to=(e,t)=>Sx(e)?e(t):e,kx=(()=>{let e=0;return()=>(++e).toString()})(),Rm=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Tx=20,$u="default",Lm=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return Lm(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Ti=[],Dm={toasts:[],pausedAt:void 0,settings:{toastLimit:Tx}},vt={},Mm=(e,t=$u)=>{vt[t]=Lm(vt[t]||Dm,e),Ti.forEach(([n,r])=>{n===t&&r(vt[t])})},Om=e=>Object.keys(vt).forEach(t=>Mm(e,t)),bx=e=>Object.keys(vt).find(t=>vt[t].toasts.some(n=>n.id===e)),Eo=(e=$u)=>t=>{Mm(t,e)},Ex={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},_x=(e={},t=$u)=>{let[n,r]=w.useState(vt[t]||Dm),s=w.useRef(vt[t]);w.useEffect(()=>(s.current!==vt[t]&&r(vt[t]),Ti.push([t,r]),()=>{let o=Ti.findIndex(([a])=>a===t);o>-1&&Ti.splice(o,1)}),[t]);let i=n.toasts.map(o=>{var a,l,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||Ex[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:i}},Cx=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||kx()}),Ms=e=>(t,n)=>{let r=Cx(t,e,n);return Eo(r.toasterId||bx(r.id))({type:2,toast:r}),r.id},me=(e,t)=>Ms("blank")(e,t);me.error=Ms("error");me.success=Ms("success");me.loading=Ms("loading");me.custom=Ms("custom");me.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Eo(t)(n):Om(n)};me.dismissAll=e=>me.dismiss(void 0,e);me.remove=(e,t)=>{let n={type:4,toastId:e};t?Eo(t)(n):Om(n)};me.removeAll=e=>me.remove(void 0,e);me.promise=(e,t,n)=>{let r=me.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?to(t.success,s):void 0;return i?me.success(i,{id:r,...n,...n==null?void 0:n.success}):me.dismiss(r),s}).catch(s=>{let i=t.error?to(t.error,s):void 0;i?me.error(i,{id:r,...n,...n==null?void 0:n.error}):me.dismiss(r)}),e};var Nx=1e3,Px=(e,t="default")=>{let{toasts:n,pausedAt:r}=_x(e,t),s=w.useRef(new Map).current,i=w.useCallback((f,h=Nx)=>{if(s.has(f))return;let g=setTimeout(()=>{s.delete(f),o({type:4,toastId:f})},h);s.set(f,g)},[]);w.useEffect(()=>{if(r)return;let f=Date.now(),h=n.map(g=>{if(g.duration===1/0)return;let v=(g.duration||0)+g.pauseDuration-(f-g.createdAt);if(v<0){g.visible&&me.dismiss(g.id);return}return setTimeout(()=>me.dismiss(g.id,t),v)});return()=>{h.forEach(g=>g&&clearTimeout(g))}},[n,r,t]);let o=w.useCallback(Eo(t),[t]),a=w.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=w.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),u=w.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),c=w.useCallback((f,h)=>{let{reverseOrder:g=!1,gutter:v=8,defaultPosition:x}=h||{},T=n.filter(y=>(y.position||x)===(f.position||x)&&y.height),m=T.findIndex(y=>y.id===f.id),p=T.filter((y,S)=>S<m&&y.visible).length;return T.filter(y=>y.visible).slice(...g?[p+1]:[0,p]).reduce((y,S)=>y+(S.height||0)+v,0)},[n]);return w.useEffect(()=>{n.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let h=s.get(f.id);h&&(clearTimeout(h),s.delete(f.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:l,startPause:a,endPause:u,calculateOffset:c}}},jx=Vt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ax=Vt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Rx=Vt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Lx=gn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ax} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Rx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Dx=Vt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Mx=gn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Dx} 1s linear infinite;
`,Ox=Vt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Vx=Vt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ix=gn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ox} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Vx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Fx=gn("div")`
  position: absolute;
`,Bx=gn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,zx=Vt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$x=gn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${zx} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ux=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?w.createElement($x,null,t):t:n==="blank"?null:w.createElement(Bx,null,w.createElement(Mx,{...r}),n!=="loading"&&w.createElement(Fx,null,n==="error"?w.createElement(Lx,{...r}):w.createElement(Ix,{...r})))},Wx=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Hx=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Kx="0%{opacity:0;} 100%{opacity:1;}",Yx="0%{opacity:1;} 100%{opacity:0;}",qx=gn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Gx=gn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Qx=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Rm()?[Kx,Yx]:[Wx(n),Hx(n)];return{animation:t?`${Vt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Vt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Xx=w.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?Qx(e.position||t||"top-center",e.visible):{opacity:0},i=w.createElement(Ux,{toast:e}),o=w.createElement(Gx,{...e.ariaProps},to(e.message,e));return w.createElement(qx,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):w.createElement(w.Fragment,null,i,o))});wx(w.createElement);var Zx=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=w.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return w.createElement("div",{ref:i,className:t,style:n},s)},Jx=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Rm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},e1=bo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,si=16,t1=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:u}=Px(n,i);return w.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:si,left:si,right:si,bottom:si,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let f=c.position||t,h=u.calculateOffset(c,{reverseOrder:e,gutter:r,defaultPosition:t}),g=Jx(f,h);return w.createElement(Zx,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?e1:"",style:g},c.type==="custom"?to(c.message,c):s?s(c):w.createElement(Xx,{toast:c,position:f}))}))},Pt=me;/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r1=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ud=e=>{const t=r1(e);return t.charAt(0).toUpperCase()+t.slice(1)},Vm=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),s1=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...i1,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Vm("lucide",s),...!i&&!s1(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,c])=>w.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=(e,t)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(o1,{ref:i,iconNode:t,className:Vm(`lucide-${n1(Ud(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Ud(e),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],l1=Uu("hexagon",a1);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],c1=Uu("shield-check",u1);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],f1=Uu("sparkles",d1),h1=({setView:e})=>d.jsxs("div",{className:"relative h-screen w-screen flex flex-col overflow-hidden text-slate-900",children:[d.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-amber-100 via-yellow-50 to-amber-200"}),d.jsx("div",{className:"absolute inset-0 -z-10 opacity-50 bg-[radial-gradient(circle_at_1px_1px,rgba(0,0,0,0.06)_1px,transparent_1px)] bg-[length:16px_16px]"}),d.jsx("div",{className:"pointer-events-none absolute -top-10 -left-10 w-64 h-64 bg-amber-300/30 [clip-path:polygon(25%_6.7%,75%_6.7%,100%_50%,75%_93.3%,25%_93.3%,0_50%)] blur-2xl"}),d.jsx("div",{className:"pointer-events-none absolute bottom-10 -right-10 w-72 h-72 bg-amber-400/30 [clip-path:polygon(25%_6.7%,75%_6.7%,100%_50%,75%_93.3%,25%_93.3%,0_50%)] blur-2xl"}),d.jsxs("header",{className:"flex justify-between items-center px-4 py-4 md:px-8 md:py-5",children:[d.jsxs("h1",{className:"text-2xl font-extrabold text-amber-700 flex items-center gap-2 drop-shadow-sm",children:[d.jsx(l1,{className:"w-7 h-7 text-amber-600"})," BuzzTalk"]}),d.jsxs("div",{className:"flex gap-2 md:gap-3",children:[d.jsx("button",{onClick:()=>e("login"),className:"px-4 py-1.5 md:px-5 md:py-2 rounded-xl bg-slate-900 text-white hover:bg-slate-800 font-semibold transition shadow-sm active:scale-95 text-sm md:text-base",children:"Login"}),d.jsx("button",{onClick:()=>e("register"),className:"px-4 py-1.5 md:px-5 md:py-2 rounded-xl bg-gradient-to-b from-amber-400 to-amber-600 hover:from-amber-500 hover:to-amber-700 text-white font-semibold transition shadow-sm active:scale-95 text-sm md:text-base",children:"Join the Hive"})]})]}),d.jsx("main",{className:"flex flex-1 items-center justify-center px-6 md:px-16",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 w-full max-w-6xl",children:[d.jsxs("div",{className:"flex flex-col justify-center gap-6",children:[d.jsx("div",{children:d.jsxs("p",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-700 border border-amber-200",children:[d.jsx(f1,{className:"w-3.5 h-3.5"})," End-to-end encrypted • Real-time"]})}),d.jsxs("h2",{className:"text-4xl md:text-6xl font-black leading-tight",children:["Chat like a ",d.jsx("span",{className:"text-amber-600",children:"Bee"})," — fast, secure, and beautifully"," ",d.jsx("span",{className:"text-amber-600",children:"buzzing"}),"."]}),d.jsx("p",{className:"text-lg md:text-xl text-slate-700",children:"A modern, secure chat app inspired by the hive. Simple, sleek, and private—so your conversations stay yours."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx("button",{onClick:()=>e("register"),className:"px-7 py-3 rounded-xl bg-gradient-to-b from-amber-400 to-amber-600 hover:from-amber-500 hover:to-amber-700 text-white font-semibold shadow-md active:scale-95",children:"Start buzzing"}),d.jsx("button",{onClick:()=>e("login"),className:"px-7 py-3 rounded-xl bg-white/70 backdrop-blur-md border border-amber-200 hover:bg-white text-slate-900 font-semibold shadow-md active:scale-95",children:"I already have a hive"})]}),d.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[d.jsx(c1,{className:"w-5 h-5 text-emerald-600"}),d.jsx("span",{className:"text-sm",children:"No trackers. No ads. Just encrypted chat."})]})]}),d.jsxs("div",{className:"relative hidden md:block",children:[d.jsx("div",{className:"absolute -top-6 -left-6 w-40 h-40 bg-amber-300/60 [clip-path:polygon(25%_6.7%,75%_6.7%,100%_50%,75%_93.3%,25%_93.3%,0_50%)]"}),d.jsx("div",{className:"absolute top-10 right-6 w-24 h-24 bg-amber-400/60 [clip-path:polygon(25%_6.7%,75%_6.7%,100%_50%,75%_93.3%,25%_93.3%,0_50%)]"}),d.jsx("div",{className:"absolute bottom-4 left-10 w-28 h-28 bg-yellow-400/60 [clip-path:polygon(25%_6.7%,75%_6.7%,100%_50%,75%_93.3%,25%_93.3%,0_50%)]"}),d.jsx("div",{className:"relative mx-auto w-[420px] h-[420px] rounded-3xl border border-amber-200 bg-white/70 backdrop-blur-md shadow-[0_8px_30px_rgba(0,0,0,0.06)] flex items-center justify-center",children:d.jsx("img",{src:"/images/smiling.png",alt:"Bee / Honeycomb illustration",className:"w-72 h-72 object-contain drop-shadow-xl"})})]})]})}),d.jsxs("footer",{className:"text-center py-4 text-slate-600 text-sm",children:["© ",new Date().getFullYear()," BuzzTalk — The Hive for Private Messaging"]})]}),p1="modulepreload",m1=function(e){return"/"+e},Wd={},g1=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=m1(l),l in Wd)return;Wd[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":p1,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Im=()=>window.crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]),xl=e=>window.crypto.subtle.exportKey("jwk",e).then(JSON.stringify),Fm=new TextEncoder,y1=new TextDecoder,sa=e=>{const t=e instanceof Uint8Array?e:new Uint8Array(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return typeof btoa=="function"?btoa(n):Buffer.from(n,"binary").toString("base64")},ia=e=>{const t=typeof atob=="function"?atob(e):Buffer.from(e,"base64").toString("binary"),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},Bm=async(e,t,n=15e4)=>{const r=await window.crypto.subtle.importKey("raw",Fm.encode(e),{name:"PBKDF2"},!1,["deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:n,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])},zm=async(e,t,n={})=>{const r=n.salt||window.crypto.getRandomValues(new Uint8Array(16)),s=n.iv||window.crypto.getRandomValues(new Uint8Array(12)),i=n.iterations||15e4,o=await Bm(t,r,i),a=Fm.encode(e),l=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:s},o,a);return{ciphertext:sa(l),iv:sa(s),salt:sa(r),iterations:i,algo:"pbkdf2-aesgcm-v1"}},$m=async(e,t)=>{if(!e||!e.ciphertext||!e.iv||!e.salt)throw new Error("Invalid encrypted private key bundle");const n=e.iterations||15e4,r=ia(e.salt),s=ia(e.iv),i=await Bm(t,r,n),o=ia(e.ciphertext),a=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:s},i,o);return y1.decode(a)},v1=Object.freeze(Object.defineProperty({__proto__:null,decryptPrivateKeyWithPassword:$m,encryptPrivateKeyWithPassword:zm,exportKey:xl,generateKeyPair:Im},Symbol.toStringTag,{value:"Module"})),Wu=({className:e="",children:t})=>d.jsx("div",{className:`p-6 md:p-8 glass-card transition-all duration-200 hover:shadow-lg ${e}`,children:t}),an=({children:e,variant:t="primary",size:n="md",className:r="",disabled:s=!1,icon:i=null,...o})=>{const a="inline-flex items-center justify-center gap-2 rounded-xl font-medium transition-all duration-200 active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed focus:outline-none shadow-sm hover:shadow-md",l={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-3 text-base"},u={primary:"bg-gradient-to-b from-amber-400 to-orange-500 text-white shadow-md hover:from-amber-500 hover:to-orange-600 focus-visible:ring-2 focus-visible:ring-orange-500/40",secondary:"bg-slate-900 text-white hover:bg-slate-800 focus-visible:ring-2 focus-visible:ring-slate-400/40",ghost:"bg-white/0 hover:bg-orange-50/20 text-orange-700 border border-orange-200 backdrop-blur-sm",danger:"bg-gradient-to-b from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 focus-visible:ring-2 focus-visible:ring-red-500/40",subtle:"bg-orange-50/80 hover:bg-orange-100 text-orange-700 border border-orange-200 backdrop-blur-sm"};return d.jsxs("button",{className:`${a} ${l[n]} ${u[t]} ${r}`,disabled:s,...o,children:[i?d.jsx("span",{className:"shrink-0",children:i}):null,d.jsx("span",{className:"truncate",children:e})]})},Nt=({className:e="",size:t="md",...n})=>{const r={sm:"px-3 py-2 text-sm",md:"px-4 py-3 text-sm",lg:"px-5 py-3.5 text-base"};return d.jsx("input",{className:`w-full rounded-xl bg-white/80 text-slate-800 placeholder:text-slate-400 border border-amber-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500/40 focus:border-amber-400 backdrop-blur-sm transition-all duration-200 hover:bg-white/90 ${r[t]} ${e}`,...n})},Hu=w.createContext({});function Ku(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const Yu=typeof window<"u",Um=Yu?w.useLayoutEffect:w.useEffect,_o=w.createContext(null);function qu(e,t){e.indexOf(t)===-1&&e.push(t)}function Gu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const It=(e,t,n)=>n>t?t:n<e?e:n;let Qu=()=>{};const Ft={},Wm=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Hm(e){return typeof e=="object"&&e!==null}const Km=e=>/^0[^.\s]+$/u.test(e);function Xu(e){let t;return()=>(t===void 0&&(t=e()),t)}const nt=e=>e,x1=(e,t)=>n=>t(e(n)),Os=(...e)=>e.reduce(x1),Ts=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Zu{constructor(){this.subscriptions=[]}add(t){return qu(this.subscriptions,t),()=>Gu(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const St=e=>e*1e3,et=e=>e/1e3;function Ym(e,t){return t?e*(1e3/t):0}const qm=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,w1=1e-7,S1=12;function k1(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=qm(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>w1&&++a<S1);return o}function Vs(e,t,n,r){if(e===t&&n===r)return nt;const s=i=>k1(i,0,1,e,n);return i=>i===0||i===1?i:qm(s(i),t,r)}const Gm=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Qm=e=>t=>1-e(1-t),Xm=Vs(.33,1.53,.69,.99),Ju=Qm(Xm),Zm=Gm(Ju),Jm=e=>(e*=2)<1?.5*Ju(e):.5*(2-Math.pow(2,-10*(e-1))),ec=e=>1-Math.sin(Math.acos(e)),eg=Qm(ec),tg=Gm(ec),T1=Vs(.42,0,1,1),b1=Vs(0,0,.58,1),ng=Vs(.42,0,.58,1),E1=e=>Array.isArray(e)&&typeof e[0]!="number",rg=e=>Array.isArray(e)&&typeof e[0]=="number",_1={linear:nt,easeIn:T1,easeInOut:ng,easeOut:b1,circIn:ec,circInOut:tg,circOut:eg,backIn:Ju,backInOut:Zm,backOut:Xm,anticipate:Jm},C1=e=>typeof e=="string",Hd=e=>{if(rg(e)){Qu(e.length===4);const[t,n,r,s]=e;return Vs(t,n,r,s)}else if(C1(e))return _1[e];return e},ii=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function N1(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),e()),c(a)}const u={schedule:(c,f=!1,h=!1)=>{const v=h&&s?n:r;return f&&o.add(c),v.has(c)||v.add(c),c},cancel:c=>{r.delete(c),o.delete(c)},process:c=>{if(a=c,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,u.process(c))}};return u}const P1=40;function sg(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ii.reduce((y,S)=>(y[S]=N1(i),y),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:h,render:g,postRender:v}=o,x=()=>{const y=Ft.useManualTiming?s.timestamp:performance.now();n=!1,Ft.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,P1),1)),s.timestamp=y,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),c.process(s),f.process(s),h.process(s),g.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(x))},T=()=>{n=!0,r=!0,s.isProcessing||e(x)};return{schedule:ii.reduce((y,S)=>{const k=o[S];return y[S]=(C,_=!1,b=!1)=>(n||T(),k.schedule(C,_,b)),y},{}),cancel:y=>{for(let S=0;S<ii.length;S++)o[ii[S]].cancel(y)},state:s,steps:o}}const{schedule:te,cancel:dn,state:Se,steps:oa}=sg(typeof requestAnimationFrame<"u"?requestAnimationFrame:nt,!0);let bi;function j1(){bi=void 0}const Ie={now:()=>(bi===void 0&&Ie.set(Se.isProcessing||Ft.useManualTiming?Se.timestamp:performance.now()),bi),set:e=>{bi=e,queueMicrotask(j1)}},ig=e=>t=>typeof t=="string"&&t.startsWith(e),tc=ig("--"),A1=ig("var(--"),nc=e=>A1(e)?R1.test(e.split("/*")[0].trim()):!1,R1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,br={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},bs={...br,transform:e=>It(0,1,e)},oi={...br,default:1},es=e=>Math.round(e*1e5)/1e5,rc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function L1(e){return e==null}const D1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sc=(e,t)=>n=>!!(typeof n=="string"&&D1.test(n)&&n.startsWith(e)||t&&!L1(n)&&Object.prototype.hasOwnProperty.call(n,t)),og=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(rc);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},M1=e=>It(0,255,e),aa={...br,transform:e=>Math.round(M1(e))},_n={test:sc("rgb","red"),parse:og("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+aa.transform(e)+", "+aa.transform(t)+", "+aa.transform(n)+", "+es(bs.transform(r))+")"};function O1(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const wl={test:sc("#"),parse:O1,transform:_n.transform},Is=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Wt=Is("deg"),kt=Is("%"),F=Is("px"),V1=Is("vh"),I1=Is("vw"),Kd={...kt,parse:e=>kt.parse(e)/100,transform:e=>kt.transform(e*100)},Jn={test:sc("hsl","hue"),parse:og("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+kt.transform(es(t))+", "+kt.transform(es(n))+", "+es(bs.transform(r))+")"},de={test:e=>_n.test(e)||wl.test(e)||Jn.test(e),parse:e=>_n.test(e)?_n.parse(e):Jn.test(e)?Jn.parse(e):wl.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_n.transform(e):Jn.transform(e),getAnimatableNone:e=>{const t=de.parse(e);return t.alpha=0,de.transform(t)}},F1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function B1(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(rc))==null?void 0:t.length)||0)+(((n=e.match(F1))==null?void 0:n.length)||0)>0}const ag="number",lg="color",z1="var",$1="var(",Yd="${}",U1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Es(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(U1,l=>(de.test(l)?(r.color.push(i),s.push(lg),n.push(de.parse(l))):l.startsWith($1)?(r.var.push(i),s.push(z1),n.push(l)):(r.number.push(i),s.push(ag),n.push(parseFloat(l))),++i,Yd)).split(Yd);return{values:n,split:a,indexes:r,types:s}}function ug(e){return Es(e).values}function cg(e){const{split:t,types:n}=Es(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===ag?i+=es(s[o]):a===lg?i+=de.transform(s[o]):i+=s[o]}return i}}const W1=e=>typeof e=="number"?0:de.test(e)?de.getAnimatableNone(e):e;function H1(e){const t=ug(e);return cg(e)(t.map(W1))}const fn={test:B1,parse:ug,createTransformer:cg,getAnimatableNone:H1};function la(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function K1({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=la(l,a,e+1/3),i=la(l,a,e),o=la(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function no(e,t){return n=>n>0?t:e}const re=(e,t,n)=>e+(t-e)*n,ua=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},Y1=[wl,_n,Jn],q1=e=>Y1.find(t=>t.test(e));function qd(e){const t=q1(e);if(!t)return!1;let n=t.parse(e);return t===Jn&&(n=K1(n)),n}const Gd=(e,t)=>{const n=qd(e),r=qd(t);if(!n||!r)return no(e,t);const s={...n};return i=>(s.red=ua(n.red,r.red,i),s.green=ua(n.green,r.green,i),s.blue=ua(n.blue,r.blue,i),s.alpha=re(n.alpha,r.alpha,i),_n.transform(s))},Sl=new Set(["none","hidden"]);function G1(e,t){return Sl.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Q1(e,t){return n=>re(e,t,n)}function ic(e){return typeof e=="number"?Q1:typeof e=="string"?nc(e)?no:de.test(e)?Gd:J1:Array.isArray(e)?dg:typeof e=="object"?de.test(e)?Gd:X1:no}function dg(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>ic(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function X1(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=ic(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Z1(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const J1=(e,t)=>{const n=fn.createTransformer(t),r=Es(e),s=Es(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Sl.has(e)&&!s.values.length||Sl.has(t)&&!r.values.length?G1(e,t):Os(dg(Z1(r,s),s.values),n):no(e,t)};function fg(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?re(e,t,n):ic(e)(e,t)}const ew=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>te.update(t,n),stop:()=>dn(t),now:()=>Se.isProcessing?Se.timestamp:Ie.now()}},hg=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ro=2e4;function oc(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<ro;)t+=n,r=e.next(t);return t>=ro?1/0:t}function tw(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(oc(r),ro);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:et(s)}}const nw=5;function pg(e,t,n){const r=Math.max(t-nw,0);return Ym(n-e(r),t-r)}const oe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ca=.001;function rw({duration:e=oe.duration,bounce:t=oe.bounce,velocity:n=oe.velocity,mass:r=oe.mass}){let s,i,o=1-t;o=It(oe.minDamping,oe.maxDamping,o),e=It(oe.minDuration,oe.maxDuration,et(e)),o<1?(s=u=>{const c=u*o,f=c*e,h=c-n,g=kl(u,o),v=Math.exp(-f);return ca-h/g*v},i=u=>{const f=u*o*e,h=f*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-f),x=kl(Math.pow(u,2),o);return(-s(u)+ca>0?-1:1)*((h-g)*v)/x}):(s=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-ca+c*f},i=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const a=5/e,l=iw(s,i,a);if(e=St(e),isNaN(l))return{stiffness:oe.stiffness,damping:oe.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const sw=12;function iw(e,t,n){let r=n;for(let s=1;s<sw;s++)r=r-e(r)/t(r);return r}function kl(e,t){return e*Math.sqrt(1-t*t)}const ow=["duration","bounce"],aw=["stiffness","damping","mass"];function Qd(e,t){return t.some(n=>e[n]!==void 0)}function lw(e){let t={velocity:oe.velocity,stiffness:oe.stiffness,damping:oe.damping,mass:oe.mass,isResolvedFromDuration:!1,...e};if(!Qd(e,aw)&&Qd(e,ow))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*It(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:oe.mass,stiffness:s,damping:i}}else{const n=rw(e);t={...t,...n,mass:oe.mass},t.isResolvedFromDuration=!0}return t}function so(e=oe.visualDuration,t=oe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:f,velocity:h,isResolvedFromDuration:g}=lw({...n,velocity:-et(n.velocity||0)}),v=h||0,x=u/(2*Math.sqrt(l*c)),T=o-i,m=et(Math.sqrt(l/c)),p=Math.abs(T)<5;r||(r=p?oe.restSpeed.granular:oe.restSpeed.default),s||(s=p?oe.restDelta.granular:oe.restDelta.default);let y;if(x<1){const k=kl(m,x);y=C=>{const _=Math.exp(-x*m*C);return o-_*((v+x*m*T)/k*Math.sin(k*C)+T*Math.cos(k*C))}}else if(x===1)y=k=>o-Math.exp(-m*k)*(T+(v+m*T)*k);else{const k=m*Math.sqrt(x*x-1);y=C=>{const _=Math.exp(-x*m*C),b=Math.min(k*C,300);return o-_*((v+x*m*T)*Math.sinh(b)+k*T*Math.cosh(b))/k}}const S={calculatedDuration:g&&f||null,next:k=>{const C=y(k);if(g)a.done=k>=f;else{let _=k===0?v:0;x<1&&(_=k===0?St(v):pg(y,k,C));const b=Math.abs(_)<=r,V=Math.abs(o-C)<=s;a.done=b&&V}return a.value=a.done?o:C,a},toString:()=>{const k=Math.min(oc(S),ro),C=hg(_=>S.next(k*_).value,k,30);return k+"ms "+C},toTransition:()=>{}};return S}so.applyToOptions=e=>{const t=tw(e,100,so);return e.ease=t.ease,e.duration=St(t.duration),e.type="keyframes",e};function Tl({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const f=e[0],h={done:!1,value:f},g=b=>a!==void 0&&b<a||l!==void 0&&b>l,v=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let x=n*t;const T=f+x,m=o===void 0?T:o(T);m!==T&&(x=m-f);const p=b=>-x*Math.exp(-b/r),y=b=>m+p(b),S=b=>{const V=p(b),M=y(b);h.done=Math.abs(V)<=u,h.value=h.done?m:M};let k,C;const _=b=>{g(h.value)&&(k=b,C=so({keyframes:[h.value,v(h.value)],velocity:pg(y,b,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return _(0),{calculatedDuration:null,next:b=>{let V=!1;return!C&&k===void 0&&(V=!0,S(b),_(b)),k!==void 0&&b>=k?C.next(b-k):(!V&&S(b),h)}}}function uw(e,t,n){const r=[],s=n||Ft.mix||fg,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||nt:t;a=Os(l,a)}r.push(a)}return r}function cw(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Qu(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=uw(t,r,s),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(c<e[f+1]);f++);const h=Ts(e[f],e[f+1],c);return a[f](h)};return n?c=>u(It(e[0],e[i-1],c)):u}function dw(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ts(0,t,r);e.push(re(n,1,s))}}function fw(e){const t=[0];return dw(t,e.length-1),t}function hw(e,t){return e.map(n=>n*t)}function pw(e,t){return e.map(()=>t||ng).splice(0,e.length-1)}function ts({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=E1(r)?r.map(Hd):Hd(r),i={done:!1,value:t[0]},o=hw(n&&n.length===t.length?n:fw(t),e),a=cw(o,t,{ease:Array.isArray(s)?s:pw(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const mw=e=>e!==null;function ac(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(mw),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const gw={decay:Tl,inertia:Tl,tween:ts,keyframes:ts,spring:so};function mg(e){typeof e.type=="string"&&(e.type=gw[e.type])}class lc{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const yw=e=>e/100;class uc extends lc{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ie.now()&&this.tick(Ie.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;mg(t);const{type:n=ts,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||ts;l!==ts&&typeof a[0]!="number"&&(this.mixKeyframes=Os(yw,fg(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=oc(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:h,repeatDelay:g,type:v,onUpdate:x,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const m=this.currentTime-u*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?m<0:m>s;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let y=this.currentTime,S=r;if(f){const b=Math.min(this.currentTime,s)/a;let V=Math.floor(b),M=b%1;!M&&b>=1&&(M=1),M===1&&V--,V=Math.min(V,f+1),!!(V%2)&&(h==="reverse"?(M=1-M,g&&(M-=g/a)):h==="mirror"&&(S=o)),y=It(0,1,M)*a}const k=p?{done:!1,value:c[0]}:S.next(y);i&&(k.value=i(k.value));let{done:C}=k;!p&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return _&&v!==Tl&&(k.value=ac(c,this.options,T,this.speed)),x&&x(k.value),_&&this.finish(),k}then(t,n){return this.finished.then(t,n)}get duration(){return et(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+et(t)}get time(){return et(this.currentTime)}set time(t){var n;t=St(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ie.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=et(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=ew,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ie.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function vw(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Cn=e=>e*180/Math.PI,bl=e=>{const t=Cn(Math.atan2(e[1],e[0]));return El(t)},xw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:bl,rotateZ:bl,skewX:e=>Cn(Math.atan(e[1])),skewY:e=>Cn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},El=e=>(e=e%360,e<0&&(e+=360),e),Xd=bl,Zd=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Jd=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ww={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Zd,scaleY:Jd,scale:e=>(Zd(e)+Jd(e))/2,rotateX:e=>El(Cn(Math.atan2(e[6],e[5]))),rotateY:e=>El(Cn(Math.atan2(-e[2],e[0]))),rotateZ:Xd,rotate:Xd,skewX:e=>Cn(Math.atan(e[4])),skewY:e=>Cn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function _l(e){return e.includes("scale")?1:0}function Cl(e,t){if(!e||e==="none")return _l(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=ww,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=xw,s=a}if(!s)return _l(t);const i=r[t],o=s[1].split(",").map(kw);return typeof i=="function"?i(o):o[i]}const Sw=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Cl(n,t)};function kw(e){return parseFloat(e.trim())}const Er=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_r=new Set(Er),ef=e=>e===br||e===F,Tw=new Set(["x","y","z"]),bw=Er.filter(e=>!Tw.has(e));function Ew(e){const t=[];return bw.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const jn={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Cl(t,"x"),y:(e,{transform:t})=>Cl(t,"y")};jn.translateX=jn.x;jn.translateY=jn.y;const An=new Set;let Nl=!1,Pl=!1,jl=!1;function gg(){if(Pl){const e=Array.from(An).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Ew(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Pl=!1,Nl=!1,An.forEach(e=>e.complete(jl)),An.clear()}function yg(){An.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Pl=!0)})}function _w(){jl=!0,yg(),gg(),jl=!1}class cc{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(An.add(this),Nl||(Nl=!0,te.read(yg),te.resolveKeyframes(gg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}vw(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),An.delete(this)}cancel(){this.state==="scheduled"&&(An.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Cw=e=>e.startsWith("--");function Nw(e,t,n){Cw(t)?e.style.setProperty(t,n):e.style[t]=n}const Pw=Xu(()=>window.ScrollTimeline!==void 0),jw={};function Aw(e,t){const n=Xu(e);return()=>jw[t]??n()}const vg=Aw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ur=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,tf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ur([0,.65,.55,1]),circOut:Ur([.55,0,1,.45]),backIn:Ur([.31,.01,.66,-.59]),backOut:Ur([.33,1.53,.69,.99])};function xg(e,t){if(e)return typeof e=="function"?vg()?hg(e,t):"ease-out":rg(e)?Ur(e):Array.isArray(e)?e.map(n=>xg(n,t)||tf.easeOut):tf[e]}function Rw(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[t]:n};l&&(c.offset=l);const f=xg(a,s);Array.isArray(f)&&(c.easing=f);const h={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(c,h)}function wg(e){return typeof e=="function"&&"applyToOptions"in e}function Lw({type:e,...t}){return wg(e)&&vg()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Dw extends lc{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Qu(typeof t.type!="string");const u=Lw(t);this.animation=Rw(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=ac(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):Nw(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return et(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+et(t)}get time(){return et(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=St(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Pw()?(this.animation.timeline=t,nt):n(this)}}const Sg={anticipate:Jm,backInOut:Zm,circInOut:tg};function Mw(e){return e in Sg}function Ow(e){typeof e.ease=="string"&&Mw(e.ease)&&(e.ease=Sg[e.ease])}const nf=10;class Vw extends Dw{constructor(t){Ow(t),mg(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new uc({...o,autoplay:!1}),l=St(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-nf).value,a.sample(l).value,nf),a.stop()}}const rf=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fn.test(e)||e==="0")&&!e.startsWith("url("));function Iw(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Fw(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=rf(s,t),a=rf(i,t);return!o||!a?!1:Iw(e)||(n==="spring"||wg(n))&&r}function Al(e){e.duration=0,e.type="keyframes"}const Bw=new Set(["opacity","clipPath","filter","transform"]),zw=Xu(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $w(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return zw()&&n&&Bw.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const Uw=40;class Ww extends lc{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...f}){var v;super(),this.stop=()=>{var x,T;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Ie.now();const h={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:c,...f},g=(c==null?void 0:c.KeyframeResolver)||cc;this.keyframeResolver=new g(a,(x,T,m)=>this.onKeyframesResolved(x,T,h,!m),l,u,c),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=Ie.now(),Fw(t,i,o,a)||((Ft.instantAnimations||!l)&&(c==null||c(ac(t,r,n))),t[0]=t[t.length-1],Al(r),r.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Uw?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},g=!u&&$w(h)?new Vw({...h,element:h.motionValue.owner.current}):new uc(h);g.finished.then(()=>this.notifyFinished()).catch(nt),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),_w()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Hw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Kw(e){const t=Hw.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function kg(e,t,n=1){const[r,s]=Kw(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Wm(o)?parseFloat(o):o}return nc(s)?kg(s,t,n+1):s}function dc(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Tg=new Set(["width","height","top","left","right","bottom",...Er]),Yw={test:e=>e==="auto",parse:e=>e},bg=e=>t=>t.test(e),Eg=[br,F,kt,Wt,I1,V1,Yw],sf=e=>Eg.find(bg(e));function qw(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Km(e):!0}const Gw=new Set(["brightness","contrast","saturate","opacity"]);function Qw(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(rc)||[];if(!r)return e;const s=n.replace(r,"");let i=Gw.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const Xw=/\b([a-z-]*)\(.*?\)/gu,Rl={...fn,getAnimatableNone:e=>{const t=e.match(Xw);return t?t.map(Qw).join(" "):e}},of={...br,transform:Math.round},Zw={rotate:Wt,rotateX:Wt,rotateY:Wt,rotateZ:Wt,scale:oi,scaleX:oi,scaleY:oi,scaleZ:oi,skew:Wt,skewX:Wt,skewY:Wt,distance:F,translateX:F,translateY:F,translateZ:F,x:F,y:F,z:F,perspective:F,transformPerspective:F,opacity:bs,originX:Kd,originY:Kd,originZ:F},fc={borderWidth:F,borderTopWidth:F,borderRightWidth:F,borderBottomWidth:F,borderLeftWidth:F,borderRadius:F,radius:F,borderTopLeftRadius:F,borderTopRightRadius:F,borderBottomRightRadius:F,borderBottomLeftRadius:F,width:F,maxWidth:F,height:F,maxHeight:F,top:F,right:F,bottom:F,left:F,padding:F,paddingTop:F,paddingRight:F,paddingBottom:F,paddingLeft:F,margin:F,marginTop:F,marginRight:F,marginBottom:F,marginLeft:F,backgroundPositionX:F,backgroundPositionY:F,...Zw,zIndex:of,fillOpacity:bs,strokeOpacity:bs,numOctaves:of},Jw={...fc,color:de,backgroundColor:de,outlineColor:de,fill:de,stroke:de,borderColor:de,borderTopColor:de,borderRightColor:de,borderBottomColor:de,borderLeftColor:de,filter:Rl,WebkitFilter:Rl},_g=e=>Jw[e];function Cg(e,t){let n=_g(e);return n!==Rl&&(n=fn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const eS=new Set(["auto","none","0"]);function tS(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!eS.has(i)&&Es(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Cg(n,s)}class nS extends cc{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),nc(u))){const c=kg(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Tg.has(r)||t.length!==2)return;const[s,i]=t,o=sf(s),a=sf(i);if(o!==a)if(ef(o)&&ef(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else jn[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||qw(t[s]))&&r.push(s);r.length&&tS(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jn[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=jn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function rS(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Ng=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Pg(e){return Hm(e)&&"offsetHeight"in e}const af=30,sS=e=>!isNaN(parseFloat(e));class iS{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Ie.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ie.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=sS(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Zu);const r=this.events[t].add(n);return t==="change"?()=>{r(),te.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ie.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>af)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,af);return Ym(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xr(e,t){return new iS(e,t)}const{schedule:hc}=sg(queueMicrotask,!1),ot={x:!1,y:!1};function jg(){return ot.x||ot.y}function oS(e){return e==="x"||e==="y"?ot[e]?null:(ot[e]=!0,()=>{ot[e]=!1}):ot.x||ot.y?null:(ot.x=ot.y=!0,()=>{ot.x=ot.y=!1})}function Ag(e,t){const n=rS(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function lf(e){return!(e.pointerType==="touch"||jg())}function aS(e,t,n={}){const[r,s,i]=Ag(e,n),o=a=>{if(!lf(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const c=f=>{lf(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Rg=(e,t)=>t?e===t?!0:Rg(e,t.parentElement):!1,pc=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,lS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uS(e){return lS.has(e.tagName)||e.tabIndex!==-1}const Ei=new WeakSet;function uf(e){return t=>{t.key==="Enter"&&e(t)}}function da(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const cS=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=uf(()=>{if(Ei.has(n))return;da(n,"down");const s=uf(()=>{da(n,"up")}),i=()=>da(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function cf(e){return pc(e)&&!jg()}function dS(e,t,n={}){const[r,s,i]=Ag(e,n),o=a=>{const l=a.currentTarget;if(!cf(a))return;Ei.add(l);const u=t(l,a),c=(g,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Ei.has(l)&&Ei.delete(l),cf(g)&&typeof u=="function"&&u(g,{success:v})},f=g=>{c(g,l===window||l===document||n.useGlobalTarget||Rg(l,g.target))},h=g=>{c(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Pg(a)&&(a.addEventListener("focus",u=>cS(u,s)),!uS(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Lg(e){return Hm(e)&&"ownerSVGElement"in e}function fS(e){return Lg(e)&&e.tagName==="svg"}const Ce=e=>!!(e&&e.getVelocity),hS=[...Eg,de,fn],pS=e=>hS.find(bg(e)),mc=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function df(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function mS(...e){return t=>{let n=!1;const r=e.map(s=>{const i=df(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():df(e[s],null)}}}}function gS(...e){return w.useCallback(mS(...e),e)}class yS extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Pg(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vS({children:e,isPresent:t,anchorX:n,root:r}){const s=w.useId(),i=w.useRef(null),o=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=w.useContext(mc),l=gS(i,e==null?void 0:e.ref);return w.useInsertionEffect(()=>{const{width:u,height:c,top:f,left:h,right:g}=o.current;if(t||!i.current||!u||!c)return;const v=n==="left"?`left: ${h}`:`right: ${g}`;i.current.dataset.motionPopId=s;const x=document.createElement("style");a&&(x.nonce=a);const T=r??document.head;return T.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{T.contains(x)&&T.removeChild(x)}},[t]),d.jsx(yS,{isPresent:t,childRef:i,sizeRef:o,children:w.cloneElement(e,{ref:l})})}const xS=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const u=Ku(wS),c=w.useId();let f=!0,h=w.useMemo(()=>(f=!1,{id:c,initial:t,isPresent:n,custom:s,onExitComplete:g=>{u.set(g,!0);for(const v of u.values())if(!v)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,r]);return i&&f&&(h={...h}),w.useMemo(()=>{u.forEach((g,v)=>u.set(v,!1))},[n]),w.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=d.jsx(vS,{isPresent:n,anchorX:a,root:l,children:e})),d.jsx(_o.Provider,{value:h,children:e})};function wS(){return new Map}function Dg(e=!0){const t=w.useContext(_o);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=w.useId();w.useEffect(()=>{if(e)return s(i)},[e]);const o=w.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const ai=e=>e.key||"";function ff(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const SS=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,c]=Dg(o),f=w.useMemo(()=>ff(e),[e]),h=o&&!u?[]:f.map(ai),g=w.useRef(!0),v=w.useRef(f),x=Ku(()=>new Map),[T,m]=w.useState(f),[p,y]=w.useState(f);Um(()=>{g.current=!1,v.current=f;for(let C=0;C<p.length;C++){const _=ai(p[C]);h.includes(_)?x.delete(_):x.get(_)!==!0&&x.set(_,!1)}},[p,h.length,h.join("-")]);const S=[];if(f!==T){let C=[...f];for(let _=0;_<p.length;_++){const b=p[_],V=ai(b);h.includes(V)||(C.splice(_,0,b),S.push(b))}return i==="wait"&&S.length&&(C=S),y(ff(C)),m(f),null}const{forceRender:k}=w.useContext(Hu);return d.jsx(d.Fragment,{children:p.map(C=>{const _=ai(C),b=o&&!u?!1:f===p||h.includes(_),V=()=>{if(x.has(_))x.set(_,!0);else return;let M=!0;x.forEach(Y=>{Y||(M=!1)}),M&&(k==null||k(),y(v.current),o&&(c==null||c()),r&&r())};return d.jsx(xS,{isPresent:b,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:b?void 0:V,anchorX:a,children:C},_)})})},Mg=w.createContext({strict:!1}),hf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wr={};for(const e in hf)wr[e]={isEnabled:t=>hf[e].some(n=>!!t[n])};function kS(e){for(const t in e)wr[t]={...wr[t],...e[t]}}const TS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function io(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||TS.has(e)}let Og=e=>!io(e);function bS(e){typeof e=="function"&&(Og=t=>t.startsWith("on")?!io(t):e(t))}try{bS(require("@emotion/is-prop-valid").default)}catch{}function ES(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Og(s)||n===!0&&io(s)||!t&&!io(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Co=w.createContext({});function No(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function _s(e){return typeof e=="string"||Array.isArray(e)}const gc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yc=["initial",...gc];function Po(e){return No(e.animate)||yc.some(t=>_s(e[t]))}function Vg(e){return!!(Po(e)||e.variants)}function _S(e,t){if(Po(e)){const{initial:n,animate:r}=e;return{initial:n===!1||_s(n)?n:void 0,animate:_s(r)?r:void 0}}return e.inherit!==!1?t:{}}function CS(e){const{initial:t,animate:n}=_S(e,w.useContext(Co));return w.useMemo(()=>({initial:t,animate:n}),[pf(t),pf(n)])}function pf(e){return Array.isArray(e)?e.join(" "):e}const Cs={};function NS(e){for(const t in e)Cs[t]=e[t],tc(t)&&(Cs[t].isCSSVariable=!0)}function Ig(e,{layout:t,layoutId:n}){return _r.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Cs[e]||e==="opacity")}const PS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jS=Er.length;function AS(e,t,n){let r="",s=!0;for(let i=0;i<jS;i++){const o=Er[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=Ng(a,fc[o]);if(!l){s=!1;const c=PS[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function vc(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(_r.has(l)){o=!0;continue}else if(tc(l)){s[l]=u;continue}else{const c=Ng(u,fc[l]);l.startsWith("origin")?(a=!0,i[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=AS(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${u} ${c}`}}const xc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Fg(e,t,n){for(const r in t)!Ce(t[r])&&!Ig(r,n)&&(e[r]=t[r])}function RS({transformTemplate:e},t){return w.useMemo(()=>{const n=xc();return vc(n,t,e),Object.assign({},n.vars,n.style)},[t])}function LS(e,t){const n=e.style||{},r={};return Fg(r,n,e),Object.assign(r,RS(e,t)),r}function DS(e,t){const n={},r=LS(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const MS={offset:"stroke-dashoffset",array:"stroke-dasharray"},OS={offset:"strokeDashoffset",array:"strokeDasharray"};function VS(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?MS:OS;e[i.offset]=F.transform(-r);const o=F.transform(t),a=F.transform(n);e[i.array]=`${o} ${a}`}function Bg(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,u,c){if(vc(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&VS(f,s,i,o,!1)}const zg=()=>({...xc(),attrs:{}}),$g=e=>typeof e=="string"&&e.toLowerCase()==="svg";function IS(e,t,n,r){const s=w.useMemo(()=>{const i=zg();return Bg(i,t,$g(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Fg(i,e.style,e),s.style={...i,...s.style}}return s}const FS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wc(e){return typeof e!="string"||e.includes("-")?!1:!!(FS.indexOf(e)>-1||/[A-Z]/u.test(e))}function BS(e,t,n,{latestValues:r},s,i=!1){const a=(wc(e)?IS:DS)(t,r,s,e),l=ES(t,typeof e=="string",i),u=e!==w.Fragment?{...l,...a,ref:n}:{},{children:c}=t,f=w.useMemo(()=>Ce(c)?c.get():c,[c]);return w.createElement(e,{...u,children:f})}function mf(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Sc(e,t,n,r){if(typeof t=="function"){const[s,i]=mf(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=mf(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function _i(e){return Ce(e)?e.get():e}function zS({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:$S(n,r,s,e),renderState:t()}}function $S(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=_i(i[h]);let{initial:o,animate:a}=e;const l=Po(e),u=Vg(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const f=c?a:o;if(f&&typeof f!="boolean"&&!No(f)){const h=Array.isArray(f)?f:[f];for(let g=0;g<h.length;g++){const v=Sc(e,h[g]);if(v){const{transitionEnd:x,transition:T,...m}=v;for(const p in m){let y=m[p];if(Array.isArray(y)){const S=c?y.length-1:0;y=y[S]}y!==null&&(s[p]=y)}for(const p in x)s[p]=x[p]}}}return s}const Ug=e=>(t,n)=>{const r=w.useContext(Co),s=w.useContext(_o),i=()=>zS(e,t,r,s);return n?i():Ku(i)};function kc(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(Ce(r[o])||t.style&&Ce(t.style[o])||Ig(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const US=Ug({scrapeMotionValuesFromProps:kc,createRenderState:xc});function Wg(e,t,n){const r=kc(e,t,n);for(const s in e)if(Ce(e[s])||Ce(t[s])){const i=Er.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const WS=Ug({scrapeMotionValuesFromProps:Wg,createRenderState:zg}),HS=Symbol.for("motionComponentSymbol");function er(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function KS(e,t,n){return w.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):er(n)&&(n.current=r))},[t])}const Tc=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YS="framerAppearId",Hg="data-"+Tc(YS),Kg=w.createContext({});function qS(e,t,n,r,s){var x,T;const{visualElement:i}=w.useContext(Co),o=w.useContext(Mg),a=w.useContext(_o),l=w.useContext(mc).reducedMotion,u=w.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=w.useContext(Kg);c&&!c.projection&&s&&(c.type==="html"||c.type==="svg")&&GS(u.current,n,s,f);const h=w.useRef(!1);w.useInsertionEffect(()=>{c&&h.current&&c.update(n,a)});const g=n[Hg],v=w.useRef(!!g&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,g))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,g)));return Um(()=>{c&&(h.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),v.current&&c.animationState&&c.animationState.animateChanges())}),w.useEffect(()=>{c&&(!v.current&&c.animationState&&c.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)==null||m.call(window,g)}),v.current=!1),c.enteringChildren=void 0)}),c}function GS(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Yg(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&er(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function Yg(e){if(e)return e.options.allowProjection!==!1?e.projection:Yg(e.parent)}function fa(e,{forwardMotionProps:t=!1}={},n,r){n&&kS(n);const s=wc(e)?WS:US;function i(a,l){let u;const c={...w.useContext(mc),...a,layoutId:QS(a)},{isStatic:f}=c,h=CS(a),g=s(a,f);if(!f&&Yu){XS();const v=ZS(c);u=v.MeasureLayout,h.visualElement=qS(e,g,c,r,v.ProjectionNode)}return d.jsxs(Co.Provider,{value:h,children:[u&&h.visualElement?d.jsx(u,{visualElement:h.visualElement,...c}):null,BS(e,a,KS(g,h.visualElement,l),g,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=w.forwardRef(i);return o[HS]=e,o}function QS({layoutId:e}){const t=w.useContext(Hu).id;return t&&e!==void 0?t+"-"+e:e}function XS(e,t){w.useContext(Mg).strict}function ZS(e){const{drag:t,layout:n}=wr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function JS(e,t){if(typeof Proxy>"u")return fa;const n=new Map,r=(i,o)=>fa(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,fa(o,void 0,e,t)),n.get(o))})}function qg({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function e2({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function t2(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ha(e){return e===void 0||e===1}function Ll({scale:e,scaleX:t,scaleY:n}){return!ha(e)||!ha(t)||!ha(n)}function kn(e){return Ll(e)||Gg(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Gg(e){return gf(e.x)||gf(e.y)}function gf(e){return e&&e!=="0%"}function oo(e,t,n){const r=e-n,s=t*r;return n+s}function yf(e,t,n,r,s){return s!==void 0&&(e=oo(e,s,r)),oo(e,n,r)+t}function Dl(e,t=0,n=1,r,s){e.min=yf(e.min,t,n,r,s),e.max=yf(e.max,t,n,r,s)}function Qg(e,{x:t,y:n}){Dl(e.x,t.translate,t.scale,t.originPoint),Dl(e.y,n.translate,n.scale,n.originPoint)}const vf=.999999999999,xf=1.0000000000001;function n2(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&nr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Qg(e,o)),r&&kn(i.latestValues)&&nr(e,i.latestValues))}t.x<xf&&t.x>vf&&(t.x=1),t.y<xf&&t.y>vf&&(t.y=1)}function tr(e,t){e.min=e.min+t,e.max=e.max+t}function wf(e,t,n,r,s=.5){const i=re(e.min,e.max,s);Dl(e,t,n,i,r)}function nr(e,t){wf(e.x,t.x,t.scaleX,t.scale,t.originX),wf(e.y,t.y,t.scaleY,t.scale,t.originY)}function Xg(e,t){return qg(t2(e.getBoundingClientRect(),t))}function r2(e,t,n){const r=Xg(e,n),{scroll:s}=t;return s&&(tr(r.x,s.offset.x),tr(r.y,s.offset.y)),r}const Sf=()=>({translate:0,scale:1,origin:0,originPoint:0}),rr=()=>({x:Sf(),y:Sf()}),kf=()=>({min:0,max:0}),le=()=>({x:kf(),y:kf()}),Ml={current:null},Zg={current:!1};function s2(){if(Zg.current=!0,!!Yu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ml.current=e.matches;e.addEventListener("change",t),t()}else Ml.current=!1}const i2=new WeakMap;function o2(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Ce(s))e.addValue(r,s);else if(Ce(i))e.addValue(r,xr(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,xr(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Tf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class a2{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ie.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,te.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Po(n),this.isVariantNode=Vg(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const g=f[h];l[h]!==void 0&&Ce(g)&&g.set(l[h])}}mount(t){var n;this.current=t,i2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),Zg.current||s2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ml.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),dn(this.notifyUpdate),dn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=_r.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&te.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wr){const n=wr[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Tf.length;r++){const s=Tf[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=o2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=xr(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Wm(r)||Km(r))?r=parseFloat(r):!pS(r)&&fn.test(n)&&(r=Cg(t,n)),this.setBaseTarget(t,Ce(r)?r.get():r)),Ce(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Sc(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ce(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Zu),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){hc.render(this.render)}}class Jg extends a2{constructor(){super(...arguments),this.KeyframeResolver=nS}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ce(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function e0(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function l2(e){return window.getComputedStyle(e)}class u2 extends Jg{constructor(){super(...arguments),this.type="html",this.renderInstance=e0}readValueFromInstance(t,n){var r;if(_r.has(n))return(r=this.projection)!=null&&r.isProjecting?_l(n):Sw(t,n);{const s=l2(t),i=(tc(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Xg(t,n)}build(t,n,r){vc(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return kc(t,n,r)}}const t0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function c2(e,t,n,r){e0(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(t0.has(s)?s:Tc(s),t.attrs[s])}class d2 extends Jg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=le}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(_r.has(n)){const r=_g(n);return r&&r.default||0}return n=t0.has(n)?n:Tc(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Wg(t,n,r)}build(t,n,r){Bg(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){c2(t,n,r,s)}mount(t){this.isSVGTag=$g(t.tagName),super.mount(t)}}const f2=(e,t)=>wc(e)?new d2(t):new u2(t,{allowProjection:e!==w.Fragment});function cr(e,t,n){const r=e.getProps();return Sc(r,t,n!==void 0?n:r.custom,e)}const Ol=e=>Array.isArray(e);function h2(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xr(n))}function p2(e){return Ol(e)?e[e.length-1]||0:e}function m2(e,t){const n=cr(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=p2(i[o]);h2(e,o,a)}}function g2(e){return!!(Ce(e)&&e.add)}function Vl(e,t){const n=e.getValue("willChange");if(g2(n))return n.add(t);if(!n&&Ft.WillChange){const r=new Ft.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function n0(e){return e.props[Hg]}const y2=e=>e!==null;function v2(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(y2),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const x2={type:"spring",stiffness:500,damping:25,restSpeed:10},w2=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),S2={type:"keyframes",duration:.8},k2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},T2=(e,{keyframes:t})=>t.length>2?S2:_r.has(e)?e.startsWith("scale")?w2(t[1]):x2:k2;function b2({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const bc=(e,t,n,r={},s,i)=>o=>{const a=dc(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-St(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};b2(a)||Object.assign(c,T2(e,c)),c.duration&&(c.duration=St(c.duration)),c.repeatDelay&&(c.repeatDelay=St(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Al(c),c.delay===0&&(f=!0)),(Ft.instantAnimations||Ft.skipAnimations)&&(f=!0,Al(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,f&&!i&&t.get()!==void 0){const h=v2(c.keyframes,a);if(h!==void 0){te.update(()=>{c.onUpdate(h),c.onComplete()});return}}return a.isSync?new uc(c):new Ww(c)};function E2({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function r0(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const c in a){const f=e.getValue(c,e.latestValues[c]??null),h=a[c];if(h===void 0||u&&E2(u,c))continue;const g={delay:n,...dc(i||{},c)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!g.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const m=n0(e);if(m){const p=window.MotionHandoffAnimation(m,c,te);p!==null&&(g.startTime=p,x=!0)}}Vl(e,c),f.start(bc(c,f,h,e.shouldReduceMotion&&Tg.has(c)?{type:!1}:g,e,x));const T=f.animation;T&&l.push(T)}return o&&Promise.all(l).then(()=>{te.update(()=>{o&&m2(e,o)})}),l}function s0(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,c)=>u.sortNodePosition(c)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function Il(e,t,n={}){var l;const r=cr(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(r0(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:h}=s;return _2(e,t,u,c,f,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,c]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function _2(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Il(l,t,{...o,delay:n+(typeof r=="function"?0:r)+s0(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function C2(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Il(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Il(e,t,n);else{const s=typeof t=="function"?cr(e,t,n.custom):t;r=Promise.all(r0(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function i0(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const N2=yc.length;function o0(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?o0(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<N2;n++){const r=yc[n],s=e.props[r];(_s(s)||s===!1)&&(t[r]=s)}return t}const P2=[...gc].reverse(),j2=gc.length;function A2(e){return t=>Promise.all(t.map(({animation:n,options:r})=>C2(e,n,r)))}function R2(e){let t=A2(e),n=bf(),r=!0;const s=l=>(u,c)=>{var h;const f=cr(e,c,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:v,...x}=f;u={...u,...x,...v}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,c=o0(e.parent)||{},f=[],h=new Set;let g={},v=1/0;for(let T=0;T<j2;T++){const m=P2[T],p=n[m],y=u[m]!==void 0?u[m]:c[m],S=_s(y),k=m===l?p.isActive:null;k===!1&&(v=T);let C=y===c[m]&&y!==u[m]&&S;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),p.protectedKeys={...g},!p.isActive&&k===null||!y&&!p.prevProp||No(y)||typeof y=="boolean")continue;const _=L2(p.prevProp,y);let b=_||m===l&&p.isActive&&!C&&S||T>v&&S,V=!1;const M=Array.isArray(y)?y:[y];let Y=M.reduce(s(m),{});k===!1&&(Y={});const{prevResolvedValues:Pe={}}=p,Me={...Pe,...Y},$=O=>{b=!0,h.has(O)&&(V=!0,h.delete(O)),p.needsAnimating[O]=!0;const E=e.getValue(O);E&&(E.liveStyle=!1)};for(const O in Me){const E=Y[O],N=Pe[O];if(g.hasOwnProperty(O))continue;let A=!1;Ol(E)&&Ol(N)?A=!i0(E,N):A=E!==N,A?E!=null?$(O):h.add(O):E!==void 0&&h.has(O)?$(O):p.protectedKeys[O]=!0}p.prevProp=y,p.prevResolvedValues=Y,p.isActive&&(g={...g,...Y}),r&&e.blockInitialAnimation&&(b=!1);const j=C&&_;b&&(!j||V)&&f.push(...M.map(O=>{const E={type:m};if(typeof O=="string"&&r&&!j&&e.manuallyAnimateOnMount&&e.parent){const{parent:N}=e,A=cr(N,O);if(N.enteringChildren&&A){const{delayChildren:D}=A.transition||{};E.delay=s0(N.enteringChildren,e,D)}}return{animation:O,options:E}}))}if(h.size){const T={};if(typeof u.initial!="boolean"){const m=cr(e,Array.isArray(u.initial)?u.initial[0]:u.initial);m&&m.transition&&(T.transition=m.transition)}h.forEach(m=>{const p=e.getBaseTarget(m),y=e.getValue(m);y&&(y.liveStyle=!0),T[m]=p??null}),f.push({animation:T})}let x=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(f):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var g;return(g=h.animationState)==null?void 0:g.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const h in n)n[h].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=bf(),r=!0}}}function L2(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!i0(t,e):!1}function xn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bf(){return{animate:xn(!0),whileInView:xn(),whileHover:xn(),whileTap:xn(),whileDrag:xn(),whileFocus:xn(),exit:xn()}}class yn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class D2 extends yn{constructor(t){super(t),t.animationState||(t.animationState=R2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();No(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let M2=0;class O2 extends yn{constructor(){super(...arguments),this.id=M2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const V2={animation:{Feature:D2},exit:{Feature:O2}};function Ns(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Fs(e){return{point:{x:e.pageX,y:e.pageY}}}const I2=e=>t=>pc(t)&&e(t,Fs(t));function ns(e,t,n,r){return Ns(e,t,I2(n),r)}const a0=1e-4,F2=1-a0,B2=1+a0,l0=.01,z2=0-l0,$2=0+l0;function Ae(e){return e.max-e.min}function U2(e,t,n){return Math.abs(e-t)<=n}function Ef(e,t,n,r=.5){e.origin=r,e.originPoint=re(t.min,t.max,e.origin),e.scale=Ae(n)/Ae(t),e.translate=re(n.min,n.max,e.origin)-e.originPoint,(e.scale>=F2&&e.scale<=B2||isNaN(e.scale))&&(e.scale=1),(e.translate>=z2&&e.translate<=$2||isNaN(e.translate))&&(e.translate=0)}function rs(e,t,n,r){Ef(e.x,t.x,n.x,r?r.originX:void 0),Ef(e.y,t.y,n.y,r?r.originY:void 0)}function _f(e,t,n){e.min=n.min+t.min,e.max=e.min+Ae(t)}function W2(e,t,n){_f(e.x,t.x,n.x),_f(e.y,t.y,n.y)}function Cf(e,t,n){e.min=t.min-n.min,e.max=e.min+Ae(t)}function ss(e,t,n){Cf(e.x,t.x,n.x),Cf(e.y,t.y,n.y)}function Ge(e){return[e("x"),e("y")]}const u0=({current:e})=>e?e.ownerDocument.defaultView:null,Nf=(e,t)=>Math.abs(e-t);function H2(e,t){const n=Nf(e.x,t.x),r=Nf(e.y,t.y);return Math.sqrt(n**2+r**2)}class c0{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=ma(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=H2(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:x}=h,{timestamp:T}=Se;this.history.push({...x,timestamp:T});const{onStart:m,onMove:p}=this.handlers;g||(m&&m(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,g)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=pa(g,this.transformPagePoint),te.update(this.updatePoint,!0)},this.handlePointerUp=(h,g)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=ma(h.type==="pointercancel"?this.lastMoveEventInfo:pa(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,m),x&&x(h,m)},!pc(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Fs(t),l=pa(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=Se;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=n;f&&f(t,ma(l,this.history)),this.removeListeners=Os(ns(this.contextWindow,"pointermove",this.handlePointerMove),ns(this.contextWindow,"pointerup",this.handlePointerUp),ns(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),dn(this.updatePoint)}}function pa(e,t){return t?{point:t(e.point)}:e}function Pf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ma({point:e},t){return{point:e,delta:Pf(e,d0(t)),offset:Pf(e,K2(t)),velocity:Y2(t,.1)}}function K2(e){return e[0]}function d0(e){return e[e.length-1]}function Y2(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=d0(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>St(t)));)n--;if(!r)return{x:0,y:0};const i=et(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function q2(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?re(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?re(n,e,r.max):Math.min(e,n)),e}function jf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function G2(e,{top:t,left:n,bottom:r,right:s}){return{x:jf(e.x,n,s),y:jf(e.y,t,r)}}function Af(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Q2(e,t){return{x:Af(e.x,t.x),y:Af(e.y,t.y)}}function X2(e,t){let n=.5;const r=Ae(e),s=Ae(t);return s>r?n=Ts(t.min,t.max-r,e.min):r>s&&(n=Ts(e.min,e.max-s,t.min)),It(0,1,n)}function Z2(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Fl=.35;function J2(e=Fl){return e===!1?e=0:e===!0&&(e=Fl),{x:Rf(e,"left","right"),y:Rf(e,"top","bottom")}}function Rf(e,t,n){return{min:Lf(e,t),max:Lf(e,n)}}function Lf(e,t){return typeof e=="number"?e:e[t]||0}const ek=new WeakMap;class tk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fs(f).point)},o=(f,h)=>{const{drag:g,dragPropagation:v,onDragStart:x}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oS(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ge(m=>{let p=this.getAxisMotionValue(m).get()||0;if(kt.test(p)){const{projection:y}=this.visualElement;if(y&&y.layout){const S=y.layout.layoutBox[m];S&&(p=Ae(S)*(parseFloat(p)/100))}}this.originPoint[m]=p}),x&&te.postRender(()=>x(f,h)),Vl(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},a=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:x,onDrag:T}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:m}=h;if(v&&this.currentDirection===null){this.currentDirection=nk(m),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,m),this.updateAxis("y",h.point,m),this.visualElement.render(),T&&T(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ge(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new c0(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:u0(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&te.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!li(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=q2(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&er(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=G2(r.layoutBox,t):this.constraints=!1,this.elastic=J2(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ge(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Z2(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!er(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=r2(r,s.root,this.visualElement.getTransformPagePoint());let o=Q2(s.layout.layoutBox,i);if(n){const a=n(e2(o));this.hasMutatedConstraints=!!a,a&&(o=qg(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ge(c=>{if(!li(c,n,this.currentDirection))return;let f=l&&l[c]||{};o&&(f={min:0,max:0});const h=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:r?t[c]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Vl(this.visualElement,t),r.start(bc(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ge(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ge(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ge(n=>{const{drag:r}=this.getProps();if(!li(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-re(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!er(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ge(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=X2({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ge(o=>{if(!li(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(re(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;ek.set(this.visualElement,this);const t=this.visualElement.current,n=ns(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();er(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),te.read(r);const o=Ns(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ge(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Fl,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function li(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function nk(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class rk extends yn{constructor(t){super(t),this.removeGroupControls=nt,this.removeListeners=nt,this.controls=new tk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Df=e=>(t,n)=>{e&&te.postRender(()=>e(t,n))};class sk extends yn{constructor(){super(...arguments),this.removePointerDownListener=nt}onPointerDown(t){this.session=new c0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:u0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Df(t),onStart:Df(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&te.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ns(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ci={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mf(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(F.test(e))e=parseFloat(e);else return e;const n=Mf(e,t.target.x),r=Mf(e,t.target.y);return`${n}% ${r}%`}},ik={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=fn.parse(e);if(s.length>5)return r;const i=fn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=re(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let ga=!1;class ok extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;NS(ak),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),ga&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ci.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,ga=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||te.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),hc.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;ga=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function f0(e){const[t,n]=Dg(),r=w.useContext(Hu);return d.jsx(ok,{...e,layoutGroup:r,switchLayoutGroup:w.useContext(Kg),isPresent:t,safeToRemove:n})}const ak={borderRadius:{...Vr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vr,borderTopRightRadius:Vr,borderBottomLeftRadius:Vr,borderBottomRightRadius:Vr,boxShadow:ik};function lk(e,t,n){const r=Ce(e)?e:xr(e);return r.start(bc("",r,t,n)),r.animation}const uk=(e,t)=>e.depth-t.depth;class ck{constructor(){this.children=[],this.isDirty=!1}add(t){qu(this.children,t),this.isDirty=!0}remove(t){Gu(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(uk),this.isDirty=!1,this.children.forEach(t)}}function dk(e,t){const n=Ie.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(dn(r),e(i-t))};return te.setup(r,!0),()=>dn(r)}const h0=["TopLeft","TopRight","BottomLeft","BottomRight"],fk=h0.length,Of=e=>typeof e=="string"?parseFloat(e):e,Vf=e=>typeof e=="number"||F.test(e);function hk(e,t,n,r,s,i){s?(e.opacity=re(0,n.opacity??1,pk(r)),e.opacityExit=re(t.opacity??1,0,mk(r))):i&&(e.opacity=re(t.opacity??1,n.opacity??1,r));for(let o=0;o<fk;o++){const a=`border${h0[o]}Radius`;let l=If(t,a),u=If(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Vf(l)===Vf(u)?(e[a]=Math.max(re(Of(l),Of(u),r),0),(kt.test(u)||kt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=re(t.rotate||0,n.rotate||0,r))}function If(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const pk=p0(0,.5,eg),mk=p0(.5,.95,nt);function p0(e,t,n){return r=>r<e?0:r>t?1:n(Ts(e,t,r))}function Ff(e,t){e.min=t.min,e.max=t.max}function qe(e,t){Ff(e.x,t.x),Ff(e.y,t.y)}function Bf(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function zf(e,t,n,r,s){return e-=t,e=oo(e,1/n,r),s!==void 0&&(e=oo(e,1/s,r)),e}function gk(e,t=0,n=1,r=.5,s,i=e,o=e){if(kt.test(t)&&(t=parseFloat(t),t=re(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=re(i.min,i.max,r);e===i&&(a-=t),e.min=zf(e.min,t,n,a,s),e.max=zf(e.max,t,n,a,s)}function $f(e,t,[n,r,s],i,o){gk(e,t[n],t[r],t[s],t.scale,i,o)}const yk=["x","scaleX","originX"],vk=["y","scaleY","originY"];function Uf(e,t,n,r){$f(e.x,t,yk,n?n.x:void 0,r?r.x:void 0),$f(e.y,t,vk,n?n.y:void 0,r?r.y:void 0)}function Wf(e){return e.translate===0&&e.scale===1}function m0(e){return Wf(e.x)&&Wf(e.y)}function Hf(e,t){return e.min===t.min&&e.max===t.max}function xk(e,t){return Hf(e.x,t.x)&&Hf(e.y,t.y)}function Kf(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function g0(e,t){return Kf(e.x,t.x)&&Kf(e.y,t.y)}function Yf(e){return Ae(e.x)/Ae(e.y)}function qf(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class wk{constructor(){this.members=[]}add(t){qu(this.members,t),t.scheduleRender()}remove(t){if(Gu(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sk(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:h,skewX:g,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ya=["","X","Y","Z"],kk=1e3;let Tk=0;function va(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function y0(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=n0(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",te,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&y0(r)}function v0({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Tk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_k),this.nodes.forEach(jk),this.nodes.forEach(Ak),this.nodes.forEach(Ck)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ck)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Zu),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Lg(o)&&!fS(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let c,f=0;const h=()=>this.root.updateBlockedByResize=!1;te.read(()=>{f=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,c&&c(),c=dk(h,250),Ci.hasAnimatedSinceResize&&(Ci.hasAnimatedSinceResize=!1,this.nodes.forEach(Xf)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||Ok,{onLayoutAnimationStart:x,onLayoutAnimationComplete:T}=u.getProps(),m=!this.targetLayout||!g0(this.targetLayout,g),p=!f&&h;if(this.options.layoutRoot||this.resumeFrom||p||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...dc(v,"layout"),onPlay:x,onComplete:T};(u.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(c,p)}else f||Xf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Rk),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&y0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Gf);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qf);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Pk),this.nodes.forEach(bk),this.nodes.forEach(Ek)):this.nodes.forEach(Qf),this.clearAllSnapshots();const a=Ie.now();Se.delta=It(0,1e3/60,a-Se.timestamp),Se.timestamp=a,Se.isProcessing=!0,oa.update.process(Se),oa.preRender.process(Se),oa.render.process(Se),Se.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Nk),this.sharedNodes.forEach(Lk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ae(this.snapshot.measuredBox.x)&&!Ae(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!m0(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||kn(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Vk(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return le();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Ik))){const{scroll:c}=this.root;c&&(tr(a.x,c.offset.x),tr(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=le();if(qe(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:h}=c;c!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&qe(a,o),tr(a.x,f.offset.x),tr(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=le();qe(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&nr(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),kn(c.latestValues)&&nr(l,c.latestValues)}return kn(this.latestValues)&&nr(l,this.latestValues),l}removeTransform(o){const a=le();qe(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!kn(u.latestValues))continue;Ll(u.latestValues)&&u.updateSnapshot();const c=le(),f=u.measurePageBox();qe(c,f),Uf(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return kn(this.latestValues)&&Uf(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Se.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=Se.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),ss(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),qe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=le(),this.targetWithTransforms=le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),W2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qe(this.target,this.layout.layoutBox),Qg(this.target,this.targetDelta)):qe(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),ss(this.relativeTargetOrigin,this.target,g.target),qe(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ll(this.parent.latestValues)||Gg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Se.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;qe(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;n2(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=le());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bf(this.prevProjectionDelta.x,this.projectionDelta.x),Bf(this.prevProjectionDelta.y,this.projectionDelta.y)),rs(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!qf(this.projectionDelta.x,this.prevProjectionDelta.x)||!qf(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rr(),this.projectionDelta=rr(),this.projectionDeltaWithTransform=rr()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=rr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=le(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=g!==v,T=this.getStack(),m=!T||T.members.length<=1,p=!!(x&&!m&&this.options.crossfade===!0&&!this.path.some(Mk));this.animationProgress=0;let y;this.mixTargetDelta=S=>{const k=S/1e3;Zf(f.x,o.x,k),Zf(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ss(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dk(this.relativeTarget,this.relativeTargetOrigin,h,k),y&&xk(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=le()),qe(y,this.relativeTarget)),x&&(this.animationValues=c,hk(c,u,this.latestValues,k,p,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=te.update(()=>{Ci.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xr(0)),this.currentAnimation=lk(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&x0(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||le();const f=Ae(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=Ae(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}qe(a,l),nr(a,c),rs(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new wk),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&va("z",o,u,this.animationValues);for(let c=0;c<ya.length;c++)va(`rotate${ya[c]}`,o,u,this.animationValues),va(`skew${ya[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=_i(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=_i(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!kn(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Sk(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),o.transform=f;const{x:h,y:g}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const v in Cs){if(c[v]===void 0)continue;const{correct:x,applyTo:T,isCSSVariable:m}=Cs[v],p=f==="none"?c[v]:x(c[v],u);if(T){const y=T.length;for(let S=0;S<y;S++)o[T[S]]=p}else m?this.options.visualElement.renderState.vars[v]=p:o[v]=p}this.options.layoutId&&(o.pointerEvents=u===this?_i(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Gf),this.root.sharedNodes.clear()}}}function bk(e){e.updateLayout()}function Ek(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Ge(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],g=Ae(h);h.min=r[f].min,h.max=h.min+g}):x0(i,t.layoutBox,r)&&Ge(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],g=Ae(r[f]);h.max=h.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const a=rr();rs(a,r,t.layoutBox);const l=rr();o?rs(l,e.applyTransform(s,!0),t.measuredBox):rs(l,r,t.layoutBox);const u=!m0(a);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const v=le();ss(v,t.layoutBox,h.layoutBox);const x=le();ss(x,r,g.layoutBox),g0(v,x)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function _k(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ck(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Nk(e){e.clearSnapshot()}function Gf(e){e.clearMeasurements()}function Qf(e){e.isLayoutDirty=!1}function Pk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Xf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function jk(e){e.resolveTargetDelta()}function Ak(e){e.calcProjection()}function Rk(e){e.resetSkewAndRotation()}function Lk(e){e.removeLeadSnapshot()}function Zf(e,t,n){e.translate=re(t.translate,0,n),e.scale=re(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Jf(e,t,n,r){e.min=re(t.min,n.min,r),e.max=re(t.max,n.max,r)}function Dk(e,t,n,r){Jf(e.x,t.x,n.x,r),Jf(e.y,t.y,n.y,r)}function Mk(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ok={duration:.45,ease:[.4,0,.1,1]},eh=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),th=eh("applewebkit/")&&!eh("chrome/")?Math.round:nt;function nh(e){e.min=th(e.min),e.max=th(e.max)}function Vk(e){nh(e.x),nh(e.y)}function x0(e,t,n){return e==="position"||e==="preserve-aspect"&&!U2(Yf(t),Yf(n),.2)}function Ik(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Fk=v0({attachResizeListener:(e,t)=>Ns(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xa={current:void 0},w0=v0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xa.current){const e=new Fk({});e.mount(window),e.setOptions({layoutScroll:!0}),xa.current=e}return xa.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Bk={pan:{Feature:sk},drag:{Feature:rk,ProjectionNode:w0,MeasureLayout:f0}};function rh(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&te.postRender(()=>i(t,Fs(t)))}class zk extends yn{mount(){const{current:t}=this.node;t&&(this.unmount=aS(t,(n,r)=>(rh(this.node,r,"Start"),s=>rh(this.node,s,"End"))))}unmount(){}}class $k extends yn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Os(Ns(this.node.current,"focus",()=>this.onFocus()),Ns(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sh(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&te.postRender(()=>i(t,Fs(t)))}class Uk extends yn{mount(){const{current:t}=this.node;t&&(this.unmount=dS(t,(n,r)=>(sh(this.node,r,"Start"),(s,{success:i})=>sh(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bl=new WeakMap,wa=new WeakMap,Wk=e=>{const t=Bl.get(e.target);t&&t(e)},Hk=e=>{e.forEach(Wk)};function Kk({root:e,...t}){const n=e||document;wa.has(n)||wa.set(n,{});const r=wa.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Hk,{root:e,...t})),r[s]}function Yk(e,t,n){const r=Kk(t);return Bl.set(e,n),r.observe(e),()=>{Bl.delete(e),r.unobserve(e)}}const qk={some:0,all:1};class Gk extends yn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:qk[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(l)};return Yk(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Qk(t,n))&&this.startObserver()}unmount(){}}function Qk({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Xk={inView:{Feature:Gk},tap:{Feature:Uk},focus:{Feature:$k},hover:{Feature:zk}},Zk={layout:{ProjectionNode:w0,MeasureLayout:f0}},Jk={...V2,...Xk,...Bk,...Zk},zl=JS(Jk,f2),ih={up:{hidden:{y:20,opacity:0},show:{y:0,opacity:1}},down:{hidden:{y:-20,opacity:0},show:{y:0,opacity:1}},left:{hidden:{x:20,opacity:0},show:{x:0,opacity:1}},right:{hidden:{x:-20,opacity:0},show:{x:0,opacity:1}},fade:{hidden:{opacity:0},show:{opacity:1}},scale:{hidden:{scale:.96,opacity:0},show:{scale:1,opacity:1}}},dr=({as:e=zl.div,children:t,type:n="up",delay:r=0,duration:s=.4,className:i,style:o,...a})=>{const l=e,u=ih[n]||ih.up;return d.jsx(l,{initial:"hidden",animate:"show",exit:"hidden",variants:u,transition:{duration:s,ease:[.2,.8,.2,1],delay:r},className:i,style:o,...a,children:t})},eT=({setView:e,onLoginSuccess:t})=>{const[n,r]=w.useState(""),[s,i]=w.useState(""),[o,a]=w.useState(!1),[l,u]=w.useState(""),[c,f]=w.useState(!1),h=async g=>{g.preventDefault(),u(""),f(!0);try{const v=await ce("auth/login","POST",{loginIdentifier:n.toLowerCase(),password:s});console.log("Login response userData:",v);const x=v.username;if(v.encryptedPrivateKey)try{const T=await $m(v.encryptedPrivateKey,s);v.__privateKey=T}catch(T){if(console.error("Failed to decrypt server-stored private key:",T),x){const m=`privateKey_${x}`,p=localStorage.getItem(m);p?(v.__privateKey=p,Pt("Using locally stored key. Consider re-saving your key to server.")):Pt.error("Couldn't unlock your encryption key. Please double-check your password.",{duration:4e3})}}else if(x){const T=`privateKey_${x}`,m=localStorage.getItem(T);if(m&&v.token)try{const p=await(await g1(async()=>{const{encryptPrivateKeyWithPassword:y}=await Promise.resolve().then(()=>v1);return{encryptPrivateKeyWithPassword:y}},void 0)).encryptPrivateKeyWithPassword(m,s);await ce("users/private-key","POST",p,v.token),v.__privateKey=m,Pt.success("Encrypted key saved to your account.")}catch(p){console.warn("Failed to upload encrypted key:",p.message),v.__privateKey=m}}t(v),Pt.success("Logged in — welcome back! 🐝",{icon:"✨"})}catch(v){const x=/<\s*!DOCTYPE|<\s*html/i.test(v.message||"")?"Server error. Please try again later.":v.message;u(x),Pt.error(x)}finally{f(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 sm:px-4 bg-gradient-to-br from-amber-50 via-yellow-100 to-amber-200",children:d.jsx("div",{className:"relative w-full max-w-sm sm:max-w-md",children:d.jsx(dr,{type:"up",duration:.5,children:d.jsxs(Wu,{children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx("div",{className:"h-16 w-16 flex items-center justify-center rounded-full brand-gradient shadow-md",children:d.jsx("span",{className:"text-3xl text-white",children:"🐝"})})}),d.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-center text-slate-800 mb-2",children:"Buzz In to Buzztalk"}),d.jsx("p",{className:"text-center text-orange-600 mb-6 sm:mb-8 text-sm sm:text-base",children:"Welcome back to your hive"}),d.jsxs("form",{onSubmit:h,className:"space-y-5",children:[d.jsx(Nt,{value:n,onChange:g=>r(g.target.value),type:"text",placeholder:"Email or Username",required:!0}),d.jsxs("div",{className:"relative",children:[d.jsx(Nt,{value:s,onChange:g=>i(g.target.value),type:o?"text":"password",placeholder:"Password",autoComplete:"current-password",required:!0,className:"pr-16 sm:pr-20"}),d.jsx("button",{type:"button",onClick:()=>a(g=>!g),"aria-label":o?"Hide password":"Show password","aria-pressed":o,className:"absolute inset-y-0 right-0 px-2 sm:px-3 m-1 rounded-lg text-orange-700 hover:text-orange-800 bg-orange-50 hover:bg-orange-100 border border-orange-200 text-xs sm:text-sm font-medium",children:o?"Hide":"Show"})]}),l&&d.jsx("p",{className:"text-red-600 text-sm bg-red-50 border border-red-200 rounded-xl px-3 py-2",children:l}),d.jsx(an,{type:"submit",className:"w-full",disabled:c,children:c?"Buzzing in...":"Login"})]}),d.jsxs("p",{className:"text-center mt-8 text-sm text-slate-600",children:["No hive yet?"," ",d.jsx("button",{onClick:()=>e("register"),className:"text-amber-700 hover:underline font-semibold",children:"Register now"})]})]})})})})},tT=({setView:e,onRegisterSuccess:t})=>{const[n,r]=w.useState(1),[s,i]=w.useState(""),[o,a]=w.useState(""),[l,u]=w.useState(""),[c,f]=w.useState(""),[h,g]=w.useState(""),[v,x]=w.useState(""),[T,m]=w.useState(null),[p,y]=w.useState(!1),[S,k]=w.useState(""),[C,_]=w.useState(""),[b,V]=w.useState(!1),M=async $=>{$.preventDefault(),_(""),V(!0);try{await ce("auth/register/initiate","POST",{email:s}),r(2)}catch(j){const R=/<\s*!DOCTYPE|<\s*html/i.test(j.message||"")?"Server error. Please try again later.":j.message;_(R),Pt.error(R)}finally{V(!1)}},Y=async $=>{$.preventDefault(),_(""),V(!0);try{const j=await ce("auth/register/verify","POST",{email:s,otp:o});k(j.verificationToken),r(3)}catch(j){const R=/<\s*!DOCTYPE|<\s*html/i.test(j.message||"")?"Server error. Please try again later.":j.message;_(R),Pt.error(R)}finally{V(!1)}},Pe=async $=>{$.preventDefault(),_(""),V(!0);try{const j=await Im(),R=await xl(j.privateKey),O=await xl(j.publicKey),E=JSON.parse(O),N={kty:E.kty,crv:E.crv,x:E.x,y:E.y},A=await zm(R,c),D=await ce("auth/register/complete","POST",{verificationToken:S,username:l.toLowerCase(),password:c,displayName:h,avatarUrl:v,publicKey:N,publicKeyJwk:N,encryptedPrivateKey:A});if(T)try{const{url:I}=await Pm(T,D.token),H=await ce("users/profile","PATCH",{avatarUrl:I},D.token);D.avatarUrl=H.avatarUrl||I}catch(I){console.warn("Avatar upload during registration failed:",I.message)}t(D),Pt.success("Registration successful! You're in the hive 🐝",{icon:"🎉"})}catch(j){const R=/<\s*!DOCTYPE|<\s*html/i.test(j.message||"")?"Server error. Please try again later.":j.message;_(R),Pt.error(R)}finally{V(!1)}},Me=()=>{switch(n){case 1:return d.jsxs("form",{onSubmit:M,className:"space-y-5",children:[d.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-center text-amber-700",children:"Start Your Journey 🐝"}),d.jsx("p",{className:"text-center text-slate-600 text-sm sm:text-base px-2",children:"We'll send a 6-digit code to verify it's you."}),d.jsx(Nt,{value:s,onChange:$=>i($.target.value),type:"email",placeholder:"you@example.com",required:!0}),d.jsx(an,{type:"submit",className:"w-full",disabled:b,children:b?"Sending...":"Continue"})]});case 2:return d.jsxs("form",{onSubmit:Y,className:"space-y-5",children:[d.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-center text-amber-700",children:"Verify Your Hive"}),d.jsxs("p",{className:"text-center text-slate-600 text-sm sm:text-base px-2",children:["We sent a code to ",d.jsx("b",{children:s}),"."]}),d.jsx(Nt,{value:o,onChange:$=>a($.target.value),type:"text",placeholder:"6-digit code",required:!0}),d.jsx(an,{type:"submit",className:"w-full",disabled:b,children:b?"Verifying...":"Verify"})]});case 3:return d.jsxs("form",{onSubmit:Pe,className:"space-y-5",children:[d.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-center text-amber-700",children:"Join the Buzz"}),d.jsx(Nt,{value:l,onChange:$=>u($.target.value),type:"text",placeholder:"Create a unique username",required:!0,pattern:"^[a-zA-Z0-9_]{3,15}$",title:"Username must be 3-15 characters (letters, numbers, underscores)."}),d.jsxs("div",{className:"relative",children:[d.jsx(Nt,{value:c,onChange:$=>f($.target.value),type:p?"text":"password",placeholder:"Create a strong password",autoComplete:"new-password",required:!0,className:"pr-16 sm:pr-20"}),d.jsx("button",{type:"button",onClick:()=>y($=>!$),"aria-label":p?"Hide password":"Show password","aria-pressed":p,className:"absolute inset-y-0 right-0 px-2 sm:px-3 m-1 rounded-md text-amber-700 hover:text-amber-800 bg-amber-100 hover:bg-amber-200 border border-amber-300 text-xs sm:text-sm font-medium",children:p?"Hide":"Show"})]}),d.jsx(Nt,{value:h,onChange:$=>g($.target.value),type:"text",placeholder:"Your name (display name)"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("label",{className:"block text-sm text-slate-700 font-medium",children:"Avatar (optional)"}),T&&d.jsxs("div",{className:"flex items-center gap-4 p-3 bg-amber-50 rounded-lg border border-amber-200",children:[d.jsx("img",{src:URL.createObjectURL(T),alt:"preview",className:"w-16 h-16 rounded-full object-cover border-2 border-amber-300 shadow-sm"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-slate-800 truncate",children:T.name}),d.jsxs("p",{className:"text-xs text-slate-600",children:[(T.size/1024/1024).toFixed(2)," MB"]})]}),d.jsx("button",{type:"button",onClick:()=>m(null),className:"text-red-600 hover:text-red-800 font-medium text-sm px-2 py-1 rounded-md hover:bg-red-50 transition-colors",children:"Remove"})]}),d.jsxs("div",{children:[d.jsx("input",{id:"avatar-file",type:"file",accept:"image/*",onChange:$=>{var j;return m(((j=$.target.files)==null?void 0:j[0])||null)},className:"hidden"}),d.jsx("label",{htmlFor:"avatar-file",className:"block w-full cursor-pointer text-center px-4 py-3 bg-gradient-to-r from-amber-400 to-orange-500 hover:from-amber-500 hover:to-orange-600 text-white font-semibold text-sm rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] border-0",children:T?"Change Photo 📸":"Choose Photo 📸"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-amber-200"})}),d.jsx("div",{className:"relative flex justify-center text-xs",children:d.jsx("span",{className:"bg-white px-2 text-slate-500",children:"or"})})]}),d.jsxs("div",{children:[d.jsx(Nt,{value:v,onChange:$=>x($.target.value),type:"url",placeholder:"Paste a photo URL",className:"text-sm"}),d.jsx("p",{className:"text-xs text-slate-500 mt-1 px-1",children:"Example: https://example.com/me.jpg"})]})]}),d.jsx(an,{type:"submit",className:"w-full",disabled:b,children:b?"Finishing...":"Finish & Login"})]});default:return null}};return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-4 sm:p-6 bg-gradient-to-b from-amber-100 via-yellow-50 to-amber-200",children:d.jsx("div",{className:"w-full max-w-sm sm:max-w-md",children:d.jsx(dr,{type:"up",duration:.5,children:d.jsxs(Wu,{children:[d.jsx(dr,{type:"fade",delay:.05,children:Me()}),C&&d.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:d.jsx("p",{className:"text-red-600 text-sm text-center font-medium",children:C})}),d.jsxs("p",{className:"text-center mt-6 text-sm text-slate-600",children:["Already have an account?"," ",d.jsx("button",{onClick:()=>e("login"),className:"text-amber-700 hover:text-amber-800 hover:underline font-semibold transition-colors",children:"Login here"})]})]})})})})},bt=Object.create(null);bt.open="0";bt.close="1";bt.ping="2";bt.pong="3";bt.message="4";bt.upgrade="5";bt.noop="6";const Ni=Object.create(null);Object.keys(bt).forEach(e=>{Ni[bt[e]]=e});const $l={type:"error",data:"parser error"},S0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",k0=typeof ArrayBuffer=="function",T0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ec=({type:e,data:t},n,r)=>S0&&t instanceof Blob?n?r(t):oh(t,r):k0&&(t instanceof ArrayBuffer||T0(t))?n?r(t):oh(new Blob([t]),r):r(bt[e]+(t||"")),oh=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function ah(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Sa;function nT(e,t){if(S0&&e.data instanceof Blob)return e.data.arrayBuffer().then(ah).then(t);if(k0&&(e.data instanceof ArrayBuffer||T0(e.data)))return t(ah(e.data));Ec(e,!1,n=>{Sa||(Sa=new TextEncoder),t(Sa.encode(n))})}const lh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<lh.length;e++)Wr[lh.charCodeAt(e)]=e;const rT=e=>{let t=e.length*.75,n=e.length,r,s=0,i,o,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),c=new Uint8Array(u);for(r=0;r<n;r+=4)i=Wr[e.charCodeAt(r)],o=Wr[e.charCodeAt(r+1)],a=Wr[e.charCodeAt(r+2)],l=Wr[e.charCodeAt(r+3)],c[s++]=i<<2|o>>4,c[s++]=(o&15)<<4|a>>2,c[s++]=(a&3)<<6|l&63;return u},sT=typeof ArrayBuffer=="function",_c=(e,t)=>{if(typeof e!="string")return{type:"message",data:b0(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:iT(e.substring(1),t)}:Ni[n]?e.length>1?{type:Ni[n],data:e.substring(1)}:{type:Ni[n]}:$l},iT=(e,t)=>{if(sT){const n=rT(e);return b0(n,t)}else return{base64:!0,data:e}},b0=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},E0="",oT=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{Ec(i,!1,a=>{r[o]=a,++s===n&&t(r.join(E0))})})},aT=(e,t)=>{const n=e.split(E0),r=[];for(let s=0;s<n.length;s++){const i=_c(n[s],t);if(r.push(i),i.type==="error")break}return r};function lT(){return new TransformStream({transform(e,t){nT(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let ka;function ui(e){return e.reduce((t,n)=>t+n.length,0)}function ci(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function uT(e,t){ka||(ka=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(ui(n)<1)break;const l=ci(n,1);i=(l[0]&128)===128,s=l[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(ui(n)<2)break;const l=ci(n,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(ui(n)<8)break;const l=ci(n,8),u=new DataView(l.buffer,l.byteOffset,l.length),c=u.getUint32(0);if(c>Math.pow(2,21)-1){a.enqueue($l);break}s=c*Math.pow(2,32)+u.getUint32(4),r=3}else{if(ui(n)<s)break;const l=ci(n,s);a.enqueue(_c(i?l:ka.decode(l),t)),r=0}if(s===0||s>e){a.enqueue($l);break}}}})}const _0=4;function he(e){if(e)return cT(e)}function cT(e){for(var t in he.prototype)e[t]=he.prototype[t];return e}he.prototype.on=he.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};he.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};he.prototype.off=he.prototype.removeListener=he.prototype.removeAllListeners=he.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};he.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};he.prototype.emitReserved=he.prototype.emit;he.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};he.prototype.hasListeners=function(e){return!!this.listeners(e).length};const jo=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Ze=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),dT="arraybuffer";function C0(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const fT=Ze.setTimeout,hT=Ze.clearTimeout;function Ao(e,t){t.useNativeTimers?(e.setTimeoutFn=fT.bind(Ze),e.clearTimeoutFn=hT.bind(Ze)):(e.setTimeoutFn=Ze.setTimeout.bind(Ze),e.clearTimeoutFn=Ze.clearTimeout.bind(Ze))}const pT=1.33;function mT(e){return typeof e=="string"?gT(e):Math.ceil((e.byteLength||e.size)*pT)}function gT(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function N0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function yT(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function vT(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class xT extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Cc extends he{constructor(t){super(),this.writable=!1,Ao(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new xT(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=_c(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=yT(t);return n.length?"?"+n:""}}class wT extends Cc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};aT(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,oT(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=N0()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let P0=!1;try{P0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ST=P0;function kT(){}class TT extends wT{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Tt extends he{constructor(t,n,r){super(),this.createRequest=t,Ao(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=C0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Tt.requestsCount++,Tt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=kT,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Tt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Tt.requestsCount=0;Tt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",uh);else if(typeof addEventListener=="function"){const e="onpagehide"in Ze?"pagehide":"unload";addEventListener(e,uh,!1)}}function uh(){for(let e in Tt.requests)Tt.requests.hasOwnProperty(e)&&Tt.requests[e].abort()}const bT=function(){const e=j0({xdomain:!1});return e&&e.responseType!==null}();class ET extends TT{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=bT&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Tt(j0,this.uri(),t)}}function j0(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||ST))return new XMLHttpRequest}catch{}if(!t)try{return new Ze[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const A0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class _T extends Cc{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=A0?{}:C0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Ec(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&jo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=N0()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Ta=Ze.WebSocket||Ze.MozWebSocket;class CT extends _T{createSocket(t,n,r){return A0?new Ta(t,n,r):n?new Ta(t,n):new Ta(t)}doWrite(t,n){this.ws.send(n)}}class NT extends Cc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=uT(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=lT();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&jo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const PT={websocket:CT,webtransport:NT,polling:ET},jT=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,AT=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ul(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=jT.exec(e||""),i={},o=14;for(;o--;)i[AT[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=RT(i,i.path),i.queryKey=LT(i,i.query),i}function RT(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function LT(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const Wl=typeof addEventListener=="function"&&typeof removeEventListener=="function",Pi=[];Wl&&addEventListener("offline",()=>{Pi.forEach(e=>e())},!1);class ln extends he{constructor(t,n){if(super(),this.binaryType=dT,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Ul(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Ul(n.host).host);Ao(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=vT(this.opts.query)),Wl&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Pi.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=_0,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&ln.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",ln.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=mT(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,jo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(ln.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Wl&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Pi.indexOf(this._offlineEventListener);r!==-1&&Pi.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}ln.protocol=_0;class DT extends ln{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;ln.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",f=>{if(!r)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;ln.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=n.name,this.emitReserved("upgradeError",h)}}))};function i(){r||(r=!0,c(),n.close(),n=null)}const o=f=>{const h=new Error("probe error: "+f);h.transport=n.name,i(),this.emitReserved("upgradeError",h)};function a(){o("transport closed")}function l(){o("socket closed")}function u(f){n&&f.name!==n.name&&i()}const c=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let MT=class extends DT{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>PT[s]).filter(s=>!!s)),super(t,r)}};function OT(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Ul(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const VT=typeof ArrayBuffer=="function",IT=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,R0=Object.prototype.toString,FT=typeof Blob=="function"||typeof Blob<"u"&&R0.call(Blob)==="[object BlobConstructor]",BT=typeof File=="function"||typeof File<"u"&&R0.call(File)==="[object FileConstructor]";function Nc(e){return VT&&(e instanceof ArrayBuffer||IT(e))||FT&&e instanceof Blob||BT&&e instanceof File}function ji(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(ji(e[n]))return!0;return!1}if(Nc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ji(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ji(e[n]))return!0;return!1}function zT(e){const t=[],n=e.data,r=e;return r.data=Hl(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Hl(e,t){if(!e)return e;if(Nc(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Hl(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Hl(e[r],t));return n}return e}function $T(e,t){return e.data=Kl(e.data,t),delete e.attachments,e}function Kl(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Kl(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Kl(e[n],t));return e}const UT=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],WT=5;var U;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(U||(U={}));class HT{constructor(t){this.replacer=t}encode(t){return(t.type===U.EVENT||t.type===U.ACK)&&ji(t)?this.encodeAsBinary({type:t.type===U.EVENT?U.BINARY_EVENT:U.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===U.BINARY_EVENT||t.type===U.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=zT(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function ch(e){return Object.prototype.toString.call(e)==="[object Object]"}class Pc extends he{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===U.BINARY_EVENT;r||n.type===U.BINARY_ACK?(n.type=r?U.EVENT:U.ACK,this.reconstructor=new KT(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Nc(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(U[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===U.BINARY_EVENT||r.type===U.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(Pc.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case U.CONNECT:return ch(n);case U.DISCONNECT:return n===void 0;case U.CONNECT_ERROR:return typeof n=="string"||ch(n);case U.EVENT:case U.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&UT.indexOf(n[0])===-1);case U.ACK:case U.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class KT{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=$T(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const YT=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Pc,Encoder:HT,get PacketType(){return U},protocol:WT},Symbol.toStringTag,{value:"Module"}));function ut(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const qT=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class L0 extends he{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ut(t,"open",this.onopen.bind(this)),ut(t,"packet",this.onpacket.bind(this)),ut(t,"error",this.onerror.bind(this)),ut(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(qT.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:U.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const c=this.ids++,f=n.pop();this._registerAckCallback(c,f),o.id=c}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:U.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case U.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case U.EVENT:case U.BINARY_EVENT:this.onevent(t);break;case U.ACK:case U.BINARY_ACK:this.onack(t);break;case U.DISCONNECT:this.ondisconnect();break;case U.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:U.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:U.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Cr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Cr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Cr.prototype.reset=function(){this.attempts=0};Cr.prototype.setMin=function(e){this.ms=e};Cr.prototype.setMax=function(e){this.max=e};Cr.prototype.setJitter=function(e){this.jitter=e};class Yl extends he{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ao(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Cr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||YT;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new MT(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=ut(n,"open",function(){r.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=ut(n,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ut(t,"ping",this.onping.bind(this)),ut(t,"data",this.ondata.bind(this)),ut(t,"error",this.onerror.bind(this)),ut(t,"close",this.onclose.bind(this)),ut(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){jo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new L0(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ir={};function is(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=OT(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=Ir[s]&&i in Ir[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let l;return a?l=new Yl(r,t):(Ir[s]||(Ir[s]=new Yl(r,t)),l=Ir[s]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(is,{Manager:Yl,Socket:L0,io:is,connect:is});const dh=({currentUser:e,friends:t,unreads:n={},requests:r,onLogout:s,onAddFriend:i,onShowRequests:o,onSelectFriend:a,onOpenSettings:l,onShowAllFriends:u,activeChat:c})=>{const f=r.length;return d.jsxs("div",{className:"w-full h-full glass flex flex-col md:rounded-lg overflow-hidden shadow-2xl border border-amber-200/50",children:[d.jsxs("div",{className:"p-4 border-b border-orange-200/60 flex justify-between items-center relative bg-gradient-to-r from-amber-100/80 to-orange-100/80 backdrop-blur-xl",children:[d.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-20",children:[d.jsx("div",{className:"absolute top-2 right-8 w-6 h-6 bg-amber-400/40 [clip-path:polygon(25%_6.7%,75%_6.7%,100%_50%,75%_93.3%,25%_93.3%,0_50%)] animate-pulse"}),d.jsx("div",{className:"absolute bottom-2 left-12 w-4 h-4 bg-orange-400/40 [clip-path:polygon(25%_6.7%,75%_6.7%,100%_50%,75%_93.3%,25%_93.3%,0_50%)] animate-pulse delay-500"})]}),d.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:e.avatarUrl||`https://i.pravatar.cc/40?u=${e.username}`,alt:e.displayName||e.username,className:"w-10 h-10 rounded-full object-cover ring-3 ring-amber-300/60 shadow-lg transition-all duration-300 hover:ring-amber-400 hover:scale-105"}),d.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-green-500 border-2 border-white rounded-full shadow-sm animate-pulse"})]}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("div",{className:"text-base font-bold truncate bg-gradient-to-r from-amber-700 to-orange-700 bg-clip-text text-transparent",children:e.displayName||e.username}),d.jsxs("div",{className:"text-xs text-orange-600/80 truncate flex items-center gap-1",children:[d.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"@",e.username]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2 relative z-10",children:[d.jsx("button",{onClick:u,className:"p-2.5 bg-white/80 border border-orange-300/60 text-orange-700 rounded-xl hover:bg-white hover:scale-105 shadow-lg active:scale-95 transition-all duration-200 backdrop-blur-sm",title:"All Friends",children:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.5v15m7.5-7.5h-15"})})}),d.jsx("button",{onClick:l,className:"p-2.5 bg-white/80 border border-orange-300/60 text-orange-700 rounded-xl hover:bg-white hover:scale-105 shadow-lg active:scale-95 transition-all duration-200 backdrop-blur-sm",title:"Settings",children:d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.89 3.31.877 2.42 2.42a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.065 2.572c.89 1.543-.877 3.31-2.42 2.42a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.065c-1.543.89-3.31-.877-2.42-2.42a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35.54-.131 1.02-.41 1.365-.815A1.724 1.724 0 007.752 5.38c.345-.404.825-.684 1.365-.815z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),d.jsxs("button",{onClick:o,className:"p-2.5 bg-gradient-to-br from-orange-400 to-orange-600 hover:from-orange-500 hover:to-orange-700 text-white rounded-xl relative shadow-lg active:scale-95 transition-all duration-200 hover:scale-105 hover:shadow-xl",title:"Friend Requests",children:[d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),f>0&&d.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center shadow-lg animate-bounce font-bold",children:f})]}),d.jsx("button",{onClick:i,className:"p-2.5 bg-gradient-to-br from-amber-400 to-orange-500 hover:from-amber-500 hover:to-orange-600 text-white rounded-xl font-bold text-lg leading-none flex items-center justify-center w-10 h-10 shadow-lg active:scale-95 transition-all duration-200 hover:scale-105 hover:shadow-xl hover:rotate-90",title:"Add Friend",children:"+"}),d.jsx("button",{onClick:s,className:"p-2.5 bg-gradient-to-br from-slate-700 to-slate-800 hover:from-slate-800 hover:to-slate-900 text-white rounded-xl shadow-lg active:scale-95 transition-all duration-200 hover:scale-105 hover:shadow-xl",title:"Logout",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto bg-gradient-to-b from-white/40 to-amber-50/40 backdrop-blur-sm",children:[d.jsx("div",{className:"p-3",children:d.jsxs("h3",{className:"text-xs font-semibold text-amber-700 uppercase tracking-wider mb-3 flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Your Hive (",t.length,")"]})}),t.length>0?d.jsx("div",{className:"space-y-1 px-2",children:t.map((h,g)=>d.jsxs("div",{onClick:()=>a(h),className:`group mx-2 p-3 rounded-xl cursor-pointer flex items-center space-x-3 transition-all duration-300 hover:shadow-md ${(c==null?void 0:c.friend._id)===h._id?"bg-gradient-to-r from-orange-200/80 to-amber-200/80 shadow-lg scale-[1.02] border border-orange-300/60":"hover:bg-white/60 hover:scale-[1.01] border border-transparent hover:border-orange-200/60"} transform-gpu`,style:{animationDelay:`${g*50}ms`,animation:"fadeInUp 0.3s ease-out forwards"},children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:h.avatarUrl||`https://i.pravatar.cc/40?u=${h.username}`,alt:h.displayName||h.username,className:"w-12 h-12 rounded-full object-cover ring-2 ring-orange-200/60 shadow-md group-hover:ring-orange-300 transition-all duration-300 group-hover:scale-105"}),d.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 block h-3.5 w-3.5 rounded-full ring-2 ring-white shadow-sm transition-all duration-300 ${h.status==="online"?"bg-green-500 animate-pulse":"bg-slate-400"}`})]}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"font-semibold text-slate-900 truncate group-hover:text-amber-800 transition-colors",children:h.displayName||h.username}),d.jsxs("p",{className:"text-xs text-orange-600/80 truncate flex items-center gap-1.5",children:[d.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${h.status==="online"?"bg-green-500 animate-pulse":"bg-slate-400"}`}),"@",h.username]}),h.status==="online"&&d.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Active now"})]}),n[h._id]>0&&d.jsx("div",{className:"ml-auto",children:d.jsx("span",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs rounded-full h-6 min-w-6 px-2 flex items-center justify-center shadow-lg font-bold animate-pulse",children:n[h._id]>99?"99+":n[h._id]})})]},h._id))}):d.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center mb-4 shadow-lg",children:d.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})})}),d.jsx("h3",{className:"text-lg font-semibold text-amber-700 mb-2",children:"No Friends Yet"}),d.jsx("p",{className:"text-sm text-slate-600 mb-4 max-w-xs",children:"Start building your hive! Add friends to begin secure conversations."}),d.jsx("button",{onClick:i,className:"px-4 py-2 bg-gradient-to-r from-amber-400 to-orange-500 text-white rounded-lg font-semibold hover:from-amber-500 hover:to-orange-600 transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-105",children:"Add Your First Friend 🐝"})]})]})]})},fh=({currentUser:e,socket:t,activeChat:n,onBack:r})=>{const[s,i]=w.useState([]),[o,a]=w.useState(""),[l,u]=w.useState([]),[c,f]=w.useState(null),h=w.useRef(null);let g=w.useRef(null);const v=w.useRef(null),x=w.useRef(null),[T,m]=w.useState(!1),p=(j,R)=>{const O=new Date(j),E=new Date(R);return O.getFullYear()===E.getFullYear()&&O.getMonth()===E.getMonth()&&O.getDate()===E.getDate()},y=j=>{const R=new Date(j),O=new Date,E=new Date;return E.setDate(O.getDate()-1),p(R,O)?"Today":p(R,E)?"Yesterday":R.toLocaleDateString(void 0,{month:"short",day:"numeric",year:R.getFullYear()!==O.getFullYear()?"numeric":void 0})},S=j=>new Date(j).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"});w.useEffect(()=>{i(n.messages||[])},[n]),w.useEffect(()=>{var j;(j=h.current)==null||j.scrollIntoView({behavior:"smooth"})},[s]),w.useEffect(()=>{if(!v.current)return;const j=v.current;j.style.height="auto",j.style.height=Math.min(j.scrollHeight,140)+"px"},[o]),w.useEffect(()=>{if(!t)return;const j=D=>{D.chatId===n._id&&i(I=>{var Z,J;const H=I[I.length-1],X=((Z=D.senderId)==null?void 0:Z._id)||D.senderId,B=((J=H==null?void 0:H.senderId)==null?void 0:J._id)||(H==null?void 0:H.senderId);return H&&H.optimistic&&B===X&&H.content===D.content?[...I.slice(0,-1),D]:[...I,D]})},R=({chatId:D,userId:I,at:H})=>{D===n._id&&I!==e._id&&f(H)},O=({userId:D})=>{l.includes(D)||u(I=>[...I,D])},E=({userId:D})=>{u(I=>I.filter(H=>H!==D))},N=({messageId:D,reactions:I})=>{i(H=>H.map(X=>X._id===D?{...X,reactions:I}:X))};t.on("newMessage",j),t.on("messagesRead",R),t.on("userTyping",O),t.on("userStoppedTyping",E),t.on("messageReaction",N);const A=({chatId:D})=>{if(D===n._id)try{r==null||r()}catch{}};return t.on("chatDeleted",A),()=>{t.off("newMessage",j),t.off("messagesRead",R),t.off("userTyping",O),t.off("userStoppedTyping",E),t.off("messageReaction",N),t.off("chatDeleted",A)}},[t,n._id,l]);const k=async j=>{if(j.preventDefault(),!o.trim())return;const R=o,E={_id:`optimistic-${Date.now()}`,chatId:n._id,senderId:{_id:e._id,username:e.username},content:R,createdAt:new Date().toISOString(),optimistic:!0};i(N=>[...N,E]),t.emit("sendMessage",{chatId:n._id,content:R}),a(""),t.emit("stopTyping",{chatId:n._id}),g.current&&clearTimeout(g.current)},C=()=>{var R;const j="😊";a(O=>O+j),(R=v.current)==null||R.focus()},_=()=>{var j;(j=x.current)==null||j.click()},b=async j=>{var O;const R=(O=j.target.files)==null?void 0:O[0];if(R){j.target.value="";try{const E=localStorage.getItem("token")||(e==null?void 0:e.token)||void 0,N=await cx(R,E),A={type:"attachment",url:N.url,filename:N.filename||R.name,mimetype:N.mimetype||R.type,size:N.size||R.size},D=JSON.stringify(A),H={_id:`optimistic-${Date.now()}`,chatId:n._id,senderId:{_id:e._id,username:e.username},content:D,createdAt:new Date().toISOString(),optimistic:!0,reactions:[]};i(X=>[...X,H]),t.emit("sendMessage",{chatId:n._id,content:D})}catch(E){console.error("Attachment send failed:",E)}}},V=(j,R)=>{t&&t.emit("reactMessage",{messageId:j,emoji:R})},M=j=>{a(j.target.value),t&&(g.current?clearTimeout(g.current):t.emit("startTyping",{chatId:n._id}),g.current=setTimeout(()=>{t.emit("stopTyping",{chatId:n._id}),g.current=null},2e3))},Y=j=>{if(j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),o.trim())){const R=j.currentTarget.closest("form");R==null||R.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))}},Pe=async()=>{if(!(!(n!=null&&n._id)||!window.confirm("Delete this chat for both participants? This will remove all messages.")))try{const R=localStorage.getItem("token")||(e==null?void 0:e.token)||void 0;await dx(n._id,R),r==null||r()}catch(R){console.error("Delete chat failed:",R),alert((R==null?void 0:R.message)||"Failed to delete chat")}},Me=s.map((j,R,O)=>{var X,B,Z,J,zt;const E=O[R-1],N=O[R+1],A=(((X=j.senderId)==null?void 0:X._id)||j.senderId)===e._id,D=E&&(((B=E.senderId)==null?void 0:B._id)||E.senderId)===(((Z=j.senderId)==null?void 0:Z._id)||j.senderId),I=N&&(((J=N.senderId)==null?void 0:J._id)||N.senderId)===(((zt=j.senderId)==null?void 0:zt._id)||j.senderId);return{m:j,mine:A,prevSameSender:D,nextSameSender:I,showAvatar:!A&&!I}}),$=[];return Me.forEach(j=>{const R=j.m.createdAt||Date.now(),O=y(R),E=$[$.length-1];!E||E.label!==O?$.push({label:O,items:[j]}):E.items.push(j)}),d.jsxs("div",{className:"flex w-full h-full flex-col glass overflow-hidden md:rounded-lg shadow-2xl border border-amber-200/50",children:[d.jsxs("div",{className:"p-3 md:p-4 border-b border-amber-200/60 bg-gradient-to-r from-white/70 to-amber-100/70 backdrop-blur-xl flex items-center gap-2 md:gap-3 relative z-30 shadow-sm",children:[r&&d.jsx("button",{className:"md:hidden mr-2 p-2.5 rounded-xl bg-white/80 text-amber-700 border border-amber-300/60 hover:bg-white hover:scale-105 active:scale-95 transition-all duration-200 shadow-md",onClick:r,"aria-label":"Back",children:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:n.friend.avatarUrl||`https://i.pravatar.cc/40?u=${n.friend.username}`,alt:n.friend.displayName||n.friend.username,className:"w-12 h-12 rounded-full object-cover ring-3 ring-amber-300/60 shadow-lg group-hover:ring-amber-400 group-hover:scale-105 transition-all duration-300"}),d.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 block h-3.5 w-3.5 rounded-full ring-2 ring-white shadow-sm ${n.friend.status==="online"?"bg-green-500 animate-pulse":"bg-slate-400"}`})]}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("h3",{className:"font-bold text-base md:text-lg bg-gradient-to-r from-amber-700 to-orange-700 bg-clip-text text-transparent truncate",children:n.friend.displayName||n.friend.username}),d.jsxs("p",{className:"text-xs text-amber-600/80 truncate flex items-center gap-1",children:[d.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${n.friend.status==="online"?"bg-green-500 animate-pulse":"bg-slate-400"}`}),"@",n.friend.username]}),d.jsx("p",{className:"text-xs text-slate-600 truncate flex items-center gap-1",children:n.friend.status==="online"?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-green-600 font-medium",children:"Active now"})]}):n.friend.lastSeen?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full"}),d.jsxs("span",{children:["last seen"," ",new Date(n.friend.lastSeen).toLocaleString()]})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full"}),d.jsx("span",{children:"offline"})]})})]}),d.jsxs("div",{className:"ml-auto flex items-center gap-3 shrink-0 relative z-40",children:[d.jsx("button",{className:"p-2.5 rounded-xl bg-white/80 text-amber-700 border border-amber-300/60 hover:bg-white hover:scale-105 active:scale-95 transition-all duration-200 shadow-md",title:"More",onClick:()=>m(j=>!j),"aria-label":"More options",children:d.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[d.jsx("circle",{cx:"12",cy:"12",r:"1"}),d.jsx("circle",{cx:"19",cy:"12",r:"1"}),d.jsx("circle",{cx:"5",cy:"12",r:"1"})]})}),T&&d.jsxs("div",{className:"absolute right-0 top-10 z-50 w-44 bg-white border border-amber-200 rounded-lg shadow-lg overflow-hidden",children:[d.jsx("button",{className:"w-full text-left px-3 py-2 hover:bg-amber-50 text-slate-800",onClick:async()=>{m(!1);try{const j=localStorage.getItem("token")||(e==null?void 0:e.token);await fx(n.friend._id,j),alert("Unfriended. You can no longer chat unless you add each other again.")}catch(j){alert((j==null?void 0:j.message)||"Failed to unfriend")}},children:"Unfriend"}),d.jsx("button",{className:"w-full text-left px-3 py-2 hover:bg-amber-50 text-red-600",onClick:async()=>{if(m(!1),!!window.confirm("Block this user? They won’t be able to message you."))try{const R=localStorage.getItem("token")||(e==null?void 0:e.token);await hx(n.friend._id,R),alert("User blocked.")}catch(R){alert((R==null?void 0:R.message)||"Failed to block user")}},children:"Block"}),d.jsx("button",{className:"w-full text-left px-3 py-2 hover:bg-amber-50 text-slate-800",onClick:()=>{m(!1),Pe()},children:"Delete chat"})]})]})]}),d.jsxs("div",{className:"flex-1 p-3 md:p-6 space-y-3 md:space-y-4 overflow-y-auto bg-white/30",children:[$.map(j=>d.jsxs("div",{children:[d.jsx("div",{className:"sticky top-0 z-0 mb-2 flex items-center justify-center",children:d.jsx("span",{className:"px-3 py-1 text-xs font-medium text-amber-700 bg-amber-100/80 border border-amber-200 rounded-full",children:j.label})}),j.items.map(({m:R,mine:O,prevSameSender:E,nextSameSender:N,showAvatar:A})=>d.jsx(GT,{message:R,currentUser:e,mine:O,prevSameSender:E,nextSameSender:N,showAvatar:A,timeLabel:S(R.createdAt||Date.now()),lastReadAtByOther:c,onToggleReaction:V},R._id))]},j.label)),d.jsx("div",{ref:h})]}),d.jsx("div",{className:"px-3 md:px-4 pb-1 h-6",children:l.length>0&&d.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-amber-100/80 border border-amber-200 text-amber-800 text-xs",children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-700 animate-pulse"}),"Someone is typing..."]})}),d.jsx("div",{className:"p-2.5 md:p-4 bg-white/40 backdrop-blur-md border-t border-amber-200",children:d.jsxs("form",{onSubmit:k,className:"composer",children:[d.jsx("button",{type:"button",className:"toolbar-btn",title:"Attach",onClick:_,children:d.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12.79V7a2 2 0 00-2-2h-5.79a2 2 0 00-1.41.59L3 14.39a2 2 0 000 2.83l3.78 3.78a2 2 0 002.83 0l8.39-8.39a2 2 0 000-2.83l-3.17-3.17"})})}),d.jsx("input",{ref:x,type:"file",className:"hidden",onChange:b}),d.jsx("textarea",{ref:v,rows:1,value:o,onChange:M,onKeyDown:Y,placeholder:"Type a message",autoComplete:"off",className:"flex-1 bg-transparent outline-none resize-none text-slate-800 placeholder:text-slate-400 px-1 py-2"}),d.jsx("button",{type:"button",className:"toolbar-btn",title:"Emoji",onClick:C,children:d.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.828 14.828a4 4 0 01-5.656 0M15 9h.01M9 9h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsx("button",{type:"submit",className:"toolbar-btn brand-gradient text-white",title:"Send",children:d.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 12l14-7-7 14-2-5-5-2z"})})})]})})]})},GT=({message:e,currentUser:t,mine:n,prevSameSender:r,nextSameSender:s,showAvatar:i,timeLabel:o,lastReadAtByOther:a,onToggleReaction:l})=>{const[u,c]=w.useState(""),[f,h]=w.useState(null);return w.useEffect(()=>{const g=(e==null?void 0:e.content)||"";try{const v=JSON.parse(g);v&&typeof v=="object"&&v.type==="attachment"?(h(v),c("")):v&&typeof v=="object"&&Array.isArray(v.iv)&&Array.isArray(v.ciphertext)?(h(null),c("🔒 Encrypted (legacy message)")):(h(null),c(g))}catch{h(null),c(g)}},[e==null?void 0:e.content]),d.jsxs("div",{className:`flex items-end gap-2 ${n?"justify-end":"justify-start"} mb-1 relative group`,children:[!n&&i&&d.jsx("img",{src:e.senderId.avatarUrl||`https://i.pravatar.cc/28?u=${e.senderId.username}`,alt:e.senderId.displayName||e.senderId.username,className:"w-7 h-7 rounded-full object-cover self-end"}),d.jsxs("div",{className:"max-w-[72%]",children:[!r&&d.jsx("div",{className:`text-[11px] text-slate-500 mb-1 ${n?"text-right":""}`,children:e.senderId.displayName||e.senderId.username}),d.jsx("div",{className:`bubble ${n?"bubble-mine":"bubble-other"} ${s?n?"rounded-2xl rounded-br-md":"rounded-2xl rounded-bl-md":"rounded-2xl"}`,children:f&&f.type==="attachment"?d.jsx(XT,{attachment:f}):u}),Array.isArray(e.reactions)&&e.reactions.length>0&&d.jsx("div",{className:`mt-1 flex gap-1 ${n?"justify-end":""}`,children:Object.entries(e.reactions.reduce((g,v)=>(g[v.emoji]=(g[v.emoji]||0)+1,g),{})).map(([g,v])=>d.jsxs("button",{onClick:()=>l==null?void 0:l(e._id,g),className:"px-2 py-0.5 text-xs rounded-full bg-white/60 border border-amber-200 shadow-sm hover:bg-white/80 active:scale-95",title:"Toggle reaction",children:[d.jsx("span",{className:"mr-1",children:g}),d.jsx("span",{className:"text-slate-600",children:v})]},g))}),d.jsxs("div",{className:"toolbar-floating opacity-0 group-hover:opacity-100 transition-opacity duration-150",children:[d.jsx("button",{className:"toolbar-btn",title:"React",onClick:()=>l==null?void 0:l(e._id,"👍"),children:"😄"}),d.jsx("button",{className:"toolbar-btn",title:"Copy",children:d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[d.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),d.jsx("path",{d:"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"})]})}),d.jsx("button",{className:"toolbar-btn",title:"More",children:d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[d.jsx("circle",{cx:"12",cy:"12",r:"1"}),d.jsx("circle",{cx:"19",cy:"12",r:"1"}),d.jsx("circle",{cx:"5",cy:"12",r:"1"})]})})]}),d.jsxs("div",{className:`mt-1 text-[10px] text-slate-400 ${n?"text-right":""}`,children:[o,n&&a&&new Date(e.createdAt)<=new Date(a)?d.jsx("span",{className:"ml-2 text-emerald-600",children:"Seen"}):null]})]}),n&&d.jsx("div",{className:"w-7"})]})},QT=e=>{if(e==null)return"";const t=["B","KB","MB","GB"];let n=0,r=e;for(;r>=1024&&n<t.length-1;)r/=1024,n++;return`${r.toFixed(r>=10||n===0?0:1)} ${t[n]}`},XT=({attachment:e})=>{const{url:t,filename:n,mimetype:r,size:s}=e||{},i=/^image\//i.test(r||"");return d.jsx("div",{className:"flex flex-col gap-1",children:i?d.jsx("a",{href:t,target:"_blank",rel:"noreferrer",children:d.jsx("img",{src:t,alt:n||"image",className:"max-h-64 max-w-full rounded-lg border border-amber-200/60 shadow-sm",loading:"lazy"})}):d.jsxs("a",{href:t,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-white/60 border border-amber-200 shadow-sm hover:bg-white/80",children:[d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("path",{d:"M14 2v6h6"})]}),d.jsx("span",{className:"text-sm text-slate-800",children:n||"file"}),d.jsx("span",{className:"text-xs text-slate-500",children:QT(s)})]})})},D0=({title:e,children:t,onClose:n,footer:r})=>d.jsx(SS,{children:d.jsx(zl.div,{className:"fixed inset-0 z-20 flex items-center justify-center bg-black/40 backdrop-blur-md p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsx(zl.div,{initial:{opacity:0,scale:.96,y:8},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.96,y:8},transition:{duration:.22,ease:[.2,.8,.2,1]},className:"w-full max-w-md",children:d.jsxs(Wu,{className:"w-full max-w-md",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e&&d.jsx("h3",{className:"text-xl font-bold text-amber-700",children:e}),d.jsx("button",{onClick:n,"aria-label":"Close",className:"p-2 rounded-lg bg-white/60 border border-amber-200 hover:bg-white/80 active:scale-95",children:d.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),t,r&&d.jsx("div",{className:"mt-6 flex justify-end",children:r})]})})})}),ZT=({currentUser:e,socket:t,onClose:n,onAlert:r})=>{const[s,i]=w.useState(""),[o,a]=w.useState(null),[l,u]=w.useState(!1),[c,f]=w.useState(""),[h,g]=w.useState(!1),v=async()=>{if(s.length<3){f("Username must be at least 3 characters long.");return}if(s.toLowerCase()===e.username){f("You can't add yourself as a friend.");return}u(!0),f(""),a(null),g(!1);try{const m=await ce(`users/search/${s.toLowerCase()}`,"GET",null,e.token);a(m)}catch(m){f(m.message)}finally{u(!1)}},x=async m=>{try{const p=await ce("users/friend-request/send","POST",{recipientId:m},e.token);t.emit("sendFriendRequest",{recipientId:m}),r(p.message),g(!0)}catch(p){r(p.message,"error")}},T=m=>{m.key==="Enter"&&v()};return d.jsxs(D0,{title:"Add a Friend",onClose:n,children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Nt,{type:"text",placeholder:"Enter username...",value:s,onChange:m=>i(m.target.value),onKeyDown:T,className:"flex-grow"}),d.jsx(an,{onClick:v,disabled:l||s.length<3,children:l?"...":"Search"})]}),d.jsxs("div",{className:"mt-4 min-h-[50px]",children:[c&&d.jsx("p",{className:"text-red-600 text-sm",children:c}),o&&d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md bg-amber-50 border border-amber-200",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:o.avatarUrl||`https://i.pravatar.cc/32?u=${o.username}`,alt:o.displayName||o.username,className:"w-8 h-8 rounded-full object-cover"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-slate-800 font-medium",children:o.displayName||o.username}),d.jsxs("div",{className:"text-[11px] text-slate-500",children:["@",o.username]})]})]}),d.jsx(an,{onClick:()=>x(o._id),disabled:h,children:h?"Sent ✓":"Send Request"})]})]})]})},JT=({currentUser:e,socket:t,requests:n,onClose:r,onAlert:s,onRequestsUpdated:i})=>{const[o,a]=w.useState({}),l=async(u,c)=>{try{if(o[u])return;a(f=>({...f,[u]:!0})),await ce("users/friend-request/respond","POST",{requesterId:u,response:c},e.token),c==="accept"&&(t.emit("acceptFriendRequest",{requesterId:u}),s("Friend request accepted!")),i()}catch(f){s(f.message,"error")}finally{a(f=>({...f,[u]:!1}))}};return d.jsx(D0,{title:"Friend Requests",onClose:r,children:d.jsx("div",{className:"max-h-80 overflow-y-auto",children:n.length>0?n.map(u=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md border border-amber-200 bg-amber-50 mb-2",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:`https://i.pravatar.cc/32?u=${u.from.username}`,alt:u.from.username,className:"w-8 h-8 rounded-full"}),d.jsx("span",{className:"text-slate-800 font-medium",children:u.from.username})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(an,{variant:"subtle",disabled:!!o[u.from._id],onClick:()=>l(u.from._id,"accept"),children:o[u.from._id]?"Accepting...":"Accept"}),d.jsx(an,{variant:"danger",disabled:!!o[u.from._id],onClick:()=>l(u.from._id,"reject"),children:o[u.from._id]?"...":"Reject"})]})]},u.from._id)):d.jsx("p",{className:"text-slate-600 p-3",children:"No new friend requests."})})})},eb=({currentUser:e,onClose:t,onUpdated:n,onAlert:r})=>{const[s,i]=w.useState(e.displayName||e.username),[o,a]=w.useState(e.avatarUrl||""),[l,u]=w.useState(null),[c,f]=w.useState(!1),[h,g]=w.useState(!1),[v,x]=w.useState(!1),[T,m]=w.useState(""),p=async y=>{y.preventDefault(),f(!0);try{let S=o;if(l){const{url:_}=await Pm(l,e.token);S=_}const k=await ce("users/profile","PATCH",{displayName:s,avatarUrl:S},e.token),C={...e,displayName:k.displayName||s,avatarUrl:k.avatarUrl??S};localStorage.setItem("currentUser",JSON.stringify(C)),n(C),r("Profile updated.","success"),t()}catch(S){r(S.message||"Failed to update profile.","error")}finally{f(!1)}};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/30",children:d.jsxs("div",{className:"w-full sm:max-w-md mx-0 sm:mx-4 rounded-t-2xl sm:rounded-2xl bg-white/85 backdrop-blur-md border border-amber-200 shadow-2xl",children:[d.jsxs("div",{className:"p-4 border-b border-amber-200 flex items-center justify-between bg-gradient-to-r from-amber-100 to-amber-200 rounded-t-2xl",children:[d.jsx("h3",{className:"text-base sm:text-lg font-bold text-amber-800",children:"Settings"}),d.jsx("button",{onClick:t,className:"px-3 py-1 rounded-lg bg-white/70 text-amber-700 border border-amber-200 hover:bg-white active:scale-95",children:"Close"})]}),d.jsxs("form",{onSubmit:p,className:"p-4 space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-slate-700 mb-1",children:"Display name"}),d.jsx("input",{value:s,onChange:y=>i(y.target.value),type:"text",className:"w-full px-3 py-2 rounded-xl bg-white/70 text-slate-800 border border-amber-200 focus:outline-none focus:ring-2 focus:ring-amber-500/40 focus:border-amber-400",placeholder:"Name shown to others"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-slate-700 mb-1",children:"Avatar"}),d.jsxs("div",{className:"flex items-center gap-3",children:[l?d.jsx("img",{src:URL.createObjectURL(l),alt:"preview",className:"w-12 h-12 rounded-full object-cover border"}):o?d.jsx("img",{src:o,alt:"current",className:"w-12 h-12 rounded-full object-cover border"}):null,d.jsx("input",{type:"file",accept:"image/*",onChange:y=>{var S;return u(((S=y.target.files)==null?void 0:S[0])||null)},className:"flex-1 text-sm"})]}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Choose an image to upload. If left empty, your existing avatar (if any) will remain."})]}),d.jsxs("div",{className:"pt-2 flex justify-end gap-2",children:[d.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-xl bg-slate-200 hover:bg-slate-300 text-slate-800",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 rounded-xl bg-gradient-to-b from-amber-400 to-amber-600 hover:from-amber-500 hover:to-amber-700 text-white shadow-sm active:scale-95",children:c?"Saving...":"Save"})]})]}),d.jsx("div",{className:"px-4 pb-4",children:d.jsxs("div",{className:"mt-3 p-3 border border-red-200 rounded-xl bg-red-50/80",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-red-700",children:"Danger zone"}),d.jsx("div",{className:"text-xs text-red-600",children:"Delete your account permanently"})]}),d.jsx("button",{onClick:()=>x(y=>!y),className:"px-3 py-1 rounded-lg bg-red-600 hover:bg-red-700 text-white shadow-sm active:scale-95",children:"Delete Account"})]}),v&&d.jsxs("div",{className:"mt-3 space-y-2",children:[d.jsx("p",{className:"text-sm text-red-700",children:"This action is irreversible. Please enter your password to confirm."}),d.jsx("input",{type:"password",value:T,onChange:y=>m(y.target.value),className:"w-full px-3 py-2 rounded-xl bg-white/70 text-slate-800 border border-amber-200 focus:outline-none focus:ring-2 focus:ring-amber-500/40 focus:border-amber-400",placeholder:"Your password"}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-3 py-1 rounded-lg bg-slate-200 hover:bg-slate-300 text-slate-800",children:"Cancel"}),d.jsx("button",{type:"button",disabled:h||T.length===0,onClick:async()=>{try{g(!0),await ce("users/delete-account","POST",{password:T},e.token),r("Account deleted.","success"),localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location.href="/"}catch(y){r(y.message||"Failed to delete account.","error")}finally{g(!1)}},className:"px-3 py-1 rounded-lg bg-red-600 hover:bg-red-700 text-white shadow-sm active:scale-95 disabled:opacity-60",children:h?"Deleting...":"Confirm Delete"})]})]})]})})]})})},tb=({open:e,friends:t,onClose:n})=>e?d.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/40",children:d.jsxs("div",{className:"w-full sm:max-w-md sm:mx-4 bg-white/80 backdrop-blur-md border border-amber-200 rounded-t-2xl sm:rounded-2xl shadow-2xl max-h-[92vh] sm:max-h-[80vh] overflow-hidden",children:[d.jsxs("div",{className:"relative p-4 border-b border-amber-200 bg-gradient-to-r from-amber-100 to-amber-200",children:[d.jsx("h3",{className:"text-base sm:text-lg font-bold text-amber-800",children:"All Friends"}),d.jsx("button",{className:"absolute right-3 top-3 px-3 py-1 rounded-lg bg-white/70 text-amber-700 border border-amber-200 hover:bg-white active:scale-95",onClick:n,"aria-label":"Close",children:"Close"})]}),d.jsx("div",{className:"p-2 sm:p-3 overflow-y-auto divide-y divide-amber-100 max-h-[calc(92vh-64px)] sm:max-h-[calc(80vh-64px)]",children:t!=null&&t.length?t.map(r=>d.jsxs("div",{className:"flex items-center gap-3 py-3 px-2 hover:bg-amber-50/60 transition-colors rounded-xl",children:[d.jsxs("div",{className:"relative shrink-0",children:[d.jsx("img",{src:r.avatarUrl||`https://i.pravatar.cc/40?u=${r.username}`,alt:r.displayName||r.username,className:"w-9 h-9 rounded-full object-cover ring-2 ring-white shadow-sm"}),d.jsx("span",{className:`absolute bottom-0 right-0 block h-2 w-2 rounded-full ring-2 ring-white ${r.status==="online"?"bg-green-500":"bg-slate-400"}`})]}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("div",{className:"font-semibold text-slate-900 truncate",children:r.displayName||r.username}),d.jsxs("div",{className:"text-[11px] text-slate-500 truncate",children:["@",r.username]})]})]},r._id)):d.jsx("div",{className:"text-slate-600 text-sm p-3",children:"No friends yet."})})]})}):null,nb=({currentUser:e,onLogout:t,onAlert:n,onCurrentUserUpdated:r})=>{const[s,i]=w.useState(null),[o,a]=w.useState([]),[l,u]=w.useState({}),[c,f]=w.useState([]),[h,g]=w.useState(null),[v,x]=w.useState({}),[T,m]=w.useState(!1),[p,y]=w.useState(!1),[S,k]=w.useState(!1),[C,_]=w.useState(!1),[b,V]=w.useState({}),[M,Y]=w.useState({}),Pe=w.useRef(null),Me=w.useRef({}),$=w.useRef(0),j=w.useRef(!1),R=w.useRef(0),O=w.useCallback(async()=>{try{const[N,A,D]=await Promise.all([ce("users/friends","GET",null,e.token),ce("users/friend-requests","GET",null,e.token),ce("chats","GET",null,e.token)]);a(N),f(A);const I={},H={};D.forEach(B=>{if(Array.isArray(B.participants)&&B.participants.length===2){const Z=B.participants.find(J=>J._id!==e._id);Z&&(I[Z._id]=B.unread||0,H[B._id]=Z._id)}}),u(I),x(H);const X={};D.forEach(B=>{var zt;const Z=(B.participants||[]).find(Bs=>Bs._id!==e._id),J=((zt=B.lastMessage)==null?void 0:zt.createdAt)||B.updatedAt||B.createdAt;Z&&J&&(X[Z._id]=new Date(J).getTime())}),V(X)}catch(N){n(N.message,"error")}},[e.token,n]);w.useEffect(()=>{j.current=!1;const N=B=>{const Z=xe=>{var vn;const $t=Date.now();if($t-R.current>2e3&&(n(`Socket error: ${xe.message}`,"error"),R.current=$t),!j.current&&((vn=B.io.opts.transports)==null?void 0:vn.length)===1){j.current=!0;try{B.off("connect_error",Z),B.disconnect()}catch{}const Fn=is(gl,{auth:{token:e.token},path:"/socket.io",transports:["polling","websocket"],withCredentials:!0});i(Fn),A.current=N(Fn)}},J=()=>{const xe=Date.now();xe<$.current||($.current=xe+1e3,O())},zt=xe=>{var Ac;if(!xe||!xe.chatId)return;const $t=Pe.current,vn=$t&&xe.chatId===$t._id,Fn=((Ac=xe.senderId)==null?void 0:Ac._id)||xe.senderId,pt=Me.current[xe.chatId];if(pt){const Nr=new Date(xe.createdAt||Date.now()).getTime();console.log(`📨 New message from friend ${pt}, updating timestamp to ${Nr}`),V(M0=>{const Rc={...M0,[pt]:Nr};return console.log("🔄 Updated friendLastTs:",Rc),Rc})}!vn&&Fn!==e._id&&(pt?u(Nr=>({...Nr,[pt]:(Nr[pt]||0)+1})):J())},Bs=({chatId:xe,userId:$t,at:vn})=>{},jc=xe=>{const{userId:$t,lastSeen:vn}=typeof xe=="object"?xe:{userId:xe};a(Fn=>Fn.map(pt=>pt._id===$t?{...pt,status:"offline",lastSeen:vn}:pt))};return B.on("connect_error",Z),B.on("newFriendRequest",J),B.on("friendRequestAccepted",J),B.on("friendOnline",J),B.on("friendOffline",jc),B.on("messagesRead",Bs),B.on("newMessage",zt),J(),()=>{try{B.off("connect_error",Z),B.off("newFriendRequest",J),B.off("friendRequestAccepted",J),B.off("friendOnline",J),B.off("friendOffline",jc),B.off("messagesRead",Bs),B.off("newMessage",zt),B.disconnect()}catch{}}},A={current:null},D=typeof window<"u"?window.location.hostname:"",H=/(^|\.)buzztalk\.me$/i.test(D)||/\.netlify\.app$/i.test(D)?["polling","websocket"]:["websocket"],X=is(gl,{auth:{token:e.token},path:"/socket.io",transports:H,forceNew:!0,timeout:6e3,reconnectionAttempts:3,withCredentials:!0});return i(X),A.current=N(X),()=>{var B;try{(B=A.current)==null||B.call(A)}catch{}}},[e.token,O,n]),w.useEffect(()=>{Pe.current=h},[h]),w.useEffect(()=>{Me.current=v},[v]);const E=async N=>{if(N!=null&&N.__openSettings){k(!0);return}if((h==null?void 0:h.friend._id)===N._id){g(null);return}try{if(M[N._id])return;Y(I=>({...I,[N._id]:!0}));const A=await ce("chats","POST",{friendId:N._id},e.token),D=await ce(`chats/${A._id}/messages`,"GET",null,e.token);try{await ce(`chats/${A._id}/read`,"POST",{},e.token)}catch{}u(I=>({...I,[N._id]:0})),g({...A,friend:N,messages:D});try{s==null||s.emit("joinChat",{chatId:A._id})}catch{}}catch(A){n(A.message,"error")}finally{Y(A=>({...A,[N._id]:!1}))}};return d.jsxs("div",{className:"h-screen w-full bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-100 text-slate-900",children:[d.jsxs("div",{className:"h-full w-full overflow-hidden relative",children:[d.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[d.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-amber-300/20 rounded-full blur-3xl animate-pulse"}),d.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-orange-300/20 rounded-full blur-3xl animate-pulse delay-1000"}),d.jsx("div",{className:"absolute top-1/2 left-1/2 w-64 h-64 bg-yellow-300/20 rounded-full blur-3xl animate-pulse delay-500"})]}),d.jsx("div",{className:"md:hidden h-full w-full flex relative z-10",children:h?d.jsx(fh,{currentUser:e,socket:s,activeChat:h,onBack:()=>g(null)}):d.jsx(dh,{currentUser:e,friends:(()=>{const N=[...o].sort((A,D)=>(b[D._id]||0)-(b[A._id]||0));return console.log("👥 Sorted friends:",N.map(A=>({name:A.displayName||A.username,timestamp:b[A._id]||0,date:b[A._id]?new Date(b[A._id]).toLocaleString():"No messages"}))),N})(),unreads:l,requests:c,onLogout:t,onAddFriend:()=>m(!0),onShowRequests:()=>y(!0),onSelectFriend:E,onOpenSettings:()=>k(!0),onShowAllFriends:()=>_(!0),activeChat:h})}),d.jsxs("div",{className:"hidden md:flex h-full w-full relative z-10",children:[d.jsxs("div",{className:"md:w-80 lg:w-96 shrink-0 relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-amber-100/50 to-orange-100/50 backdrop-blur-xl"}),d.jsx(dr,{type:"left",duration:.2,className:"h-full relative z-10",children:d.jsx(dh,{currentUser:e,friends:[...o].sort((A,D)=>(b[D._id]||0)-(b[A._id]||0)),unreads:l,requests:c,onLogout:t,onAddFriend:()=>m(!0),onShowRequests:()=>y(!0),onSelectFriend:E,onOpenSettings:()=>k(!0),onShowAllFriends:()=>_(!0),activeChat:h})})]}),d.jsxs("div",{className:"flex-1 min-w-0 flex relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/60 to-amber-50/60 backdrop-blur-xl"}),h?d.jsx(dr,{type:"up",duration:.15,className:"flex-1 min-w-0 flex relative z-10",children:d.jsx(fh,{currentUser:e,socket:s,activeChat:h,onBack:()=>g(null)})}):d.jsx(dr,{type:"fade",duration:.2,className:"h-full w-full relative z-10",children:d.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center text-slate-600 relative",children:[d.jsxs("div",{className:"absolute inset-0 opacity-10",children:[d.jsx("div",{className:"absolute top-20 left-20 w-16 h-16 bg-amber-400 [clip-path:polygon(25%_6.7%,75%_6.7%,100%_50%,75%_93.3%,25%_93.3%,0_50%)] animate-bounce"}),d.jsx("div",{className:"absolute top-40 right-32 w-12 h-12 bg-orange-400 [clip-path:polygon(25%_6.7%,75%_6.7%,100%_50%,75%_93.3%,25%_93.3%,0_50%)] animate-bounce delay-300"}),d.jsx("div",{className:"absolute bottom-32 left-40 w-20 h-20 bg-yellow-400 [clip-path:polygon(25%_6.7%,75%_6.7%,100%_50%,75%_93.3%,25%_93.3%,0_50%)] animate-bounce delay-700"})]}),d.jsxs("div",{className:"text-center space-y-6 max-w-md mx-auto px-8",children:[d.jsx("div",{className:"relative",children:d.jsxs("div",{className:"w-32 h-32 mx-auto mb-6 relative",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full animate-ping opacity-20"}),d.jsx("div",{className:"absolute inset-2 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-16 h-16 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})})]})}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Ready to Buzz? 🐝"}),d.jsx("p",{className:"text-lg text-slate-600",children:"Select a friend from your hive to start an encrypted conversation"}),d.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-amber-700 bg-amber-100/60 px-4 py-2 rounded-full border border-amber-200",children:[d.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),"End-to-end encrypted"]})]})]})]})})]})]})]}),T&&d.jsx(ZT,{currentUser:e,socket:s,onClose:()=>m(!1),onAlert:n}),p&&d.jsx(JT,{currentUser:e,socket:s,requests:c,onClose:()=>y(!1),onAlert:n,onRequestsUpdated:O}),S&&d.jsx(eb,{currentUser:e,onClose:()=>k(!1),onAlert:n,onUpdated:N=>{r==null||r(N),O()}}),C&&d.jsx(tb,{open:C,friends:[...o].sort((N,A)=>(b[A._id]||0)-(b[N._id]||0)),onClose:()=>_(!1)})]})},rb=({message:e,type:t="success",onClose:n})=>{w.useEffect(()=>{const s=setTimeout(n,4e3);return()=>clearTimeout(s)},[n]);const r=t==="error"?"bg-red-500/90 border-red-400":"bg-emerald-500/90 border-emerald-400";return d.jsx("div",{className:`fixed top-5 right-5 px-4 py-3 rounded-xl shadow-lg text-white border backdrop-blur-md ${r} z-50 transition-all animate-fade-in-down`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-white/80"}),d.jsx("span",{children:e})]})})},sb=({message:e="Loading your hive…"})=>d.jsxs("div",{className:"h-screen w-screen relative overflow-hidden text-slate-900",children:[d.jsx("div",{className:"absolute inset-0 -z-10 bg-soft-honey"}),d.jsx("div",{className:"absolute inset-0 -z-10 opacity-50 bg-dot-grid"}),d.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center gap-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 bg-amber-400/80 [clip-path:polygon(25%_6.7%,75%_6.7%,100%_50%,75%_93.3%,25%_93.3%,0_50%)] shadow-[0_8px_30px_rgba(0,0,0,0.06)]"}),d.jsx("h1",{className:"text-2xl font-extrabold text-amber-700",children:"BuzzTalk"})]}),d.jsxs("div",{className:"flex items-center gap-3 text-slate-700",children:[d.jsxs("svg",{className:"w-6 h-6 animate-spin text-amber-600",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-80",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),d.jsx("span",{className:"font-medium",children:e})]})]})]});function ib(){const[e,t]=w.useState("loading"),[n,r]=w.useState(null),[s,i]=w.useState(null),o=w.useCallback((f,{replace:h=!1}={})=>{h?window.history.replaceState({view:f},"",window.location.pathname):window.history.pushState({view:f},"",window.location.pathname),t(f)},[]);w.useEffect(()=>{const f=localStorage.getItem("currentUser");if(f){const g=JSON.parse(f);r(g),(async()=>{try{const v=await ce("users/me","GET",null,g.token),x={...g,...v};r(x),localStorage.setItem("currentUser",JSON.stringify(x))}catch{}finally{o("chat",{replace:!0})}})()}else o("landing",{replace:!0});const h=g=>{var x;const v=(x=g.state)==null?void 0:x.view;if(v)t(v);else{const T=!!localStorage.getItem("currentUser");t(T?"chat":"landing")}};return window.addEventListener("popstate",h),()=>window.removeEventListener("popstate",h)},[o]);const a=(f,h="success")=>{i({message:f,type:h})},l=f=>{const{__privateKey:h,...g}=f||{};localStorage.setItem("currentUser",JSON.stringify(g)),r(f),o("chat")},u=()=>{localStorage.removeItem("currentUser"),r(null),o("login")},c=()=>{switch(e){case"loading":return d.jsx(sb,{});case"login":return d.jsx(eT,{setView:o,onLoginSuccess:l});case"register":return d.jsx(tT,{setView:o,onRegisterSuccess:l});case"chat":return d.jsx(nb,{currentUser:n,onLogout:u,onAlert:a,onCurrentUserUpdated:f=>{const{__privateKey:h,...g}=f||{};r(f),localStorage.setItem("currentUser",JSON.stringify(g))}});case"landing":default:return d.jsx(h1,{setView:o})}};return d.jsxs("div",{className:`min-h-screen min-w-full ${e==="chat"?"bg-stone-50":"bg-gradient-to-b from-amber-50 via-orange-50 to-yellow-100"}`,children:[d.jsx(t1,{position:"top-right",toastOptions:{duration:2800,className:"!rounded-2xl !px-4 !py-3 !border !border-amber-300 !backdrop-blur-md !shadow-xl",style:{background:"rgba(255,248,235,0.95)",color:"#1c1c1c",boxShadow:"0 10px 30px rgba(245,158,11,0.15)"},success:{duration:2600,iconTheme:{primary:"#f59e0b",secondary:"white"}},error:{duration:3400,iconTheme:{primary:"#ea580c",secondary:"white"}}}}),s&&d.jsx(rb,{message:s.message,type:s.type,onClose:()=>i(null)}),c()]})}Em(document.getElementById("root")).render(d.jsx(w.StrictMode,{children:d.jsx(ib,{})}));
